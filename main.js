(()=>{"use strict";var e={};function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e);var n=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}var n,o;return n=e,(o=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),n.classList.add(this._config.errorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"disabledButton",value:function(){this._buttonElement.setAttribute("disabled",!0),this._buttonElement.classList.add(this._config.inactiveButtonClass)}},{key:"enableButton",value:function(){this._buttonElement.removeAttribute("disabled"),this._buttonElement.classList.remove(this._config.inactiveButtonClass)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disabledButton():this.enableButton()}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"resetValidation",value:function(){this._toggleButtonState()}},{key:"resetErrors",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&t(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=function(){function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._link=n,this._templateSelector=o,this._element=this._getTemplate(),this._handleCardClick=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".elements__item").cloneNode(!0)}},{key:"generateCard",value:function(){this._element=this._getTemplate();var e=this._element.querySelector(".elements__photo");return e.src=this._link,e.alt=this._name,this._element.querySelector(".elements__title").textContent=this._name,this._likeButton=this._element.querySelector(".elements__like"),this._setEventListeners(),this._element}},{key:"_deleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_getLike",value:function(){this._likeButton.classList.toggle("elements__like_active")}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".elements__delete").addEventListener("click",(function(){e._deleteCard()})),this._likeButton.addEventListener("click",(function(){e._getLike()})),this._element.querySelector(".elements__photo").addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),i={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(t,n){var o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this._overlayClose=this._overlayClose.bind(this),this._closeButton=this._popup.querySelector(".popup__close-button")}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_overlayClose",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("mousedown",this._overlayClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("mousedown",this._overlayClose)}},{key:"setEventListeners",value:function(){var e=this;this._closeButton.addEventListener("click",(function(){e.close()}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=_(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},p.apply(this,arguments)}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function y(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(o);if(r){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupPhotoTitle=document.querySelector(".popup__caption"),t._popupPhotoImg=document.querySelector(".popup__photo"),t}return t=u,(n=[{key:"open",value:function(e,t){this._popupPhotoImg.src=t,this._popupPhotoImg.alt=e,this._popupPhotoTitle.textContent=e,p(v(u.prototype),"open",this).call(this)}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(l);function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var b=function(){function e(t){var n=t.selectorUserName,o=t.selectorUserJob,r=t.selectorUserAvatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selectorUserName=document.querySelector(n),this._selectorUserJob=document.querySelector(o),this._selectorUserAvatar=document.querySelector(r)}var t,n;return t=e,n=[{key:"getUserInfo",value:function(){return{name:this._selectorUserName.textContent,job:this._selectorUserJob.textContent}}},{key:"getUserAvatar",value:function(){return{avatar:this._selectorUserAvatar.src}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;this._selectorUserName.textContent=t,this._selectorUserJob.textContent=n}},{key:"setUserAvatar",value:function(e){var t=e.avatar;this._selectorUserAvatar.src=t}}],n&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=k(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},w.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function O(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(o);if(r){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._form=n._popup.querySelector(".popup__form"),n._formInputList=n._form.querySelectorAll(".popup__input"),console.log(n._form),n._handleFormSubmit=t,n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._formInputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())})),w(j(u.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._form.reset(),w(j(u.prototype),"close",this).call(this)}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(l),L=new e.Api({url:"https://mesto.nomoreparties.co/v1/cohort-48",headers:{"content-type":"application/json",authorization:"2416fc82-bfbc-4b78-a4fd-442dace64f7e"}});L.getAllCards().then((function(e){J.renderItems(e)})).catch((function(e){return console.log("Ошибка:",e)})),L.getUserInfo().then((function(e){return z.setUserInfo({name:e.name,job:e.about})})).catch((function(e){return console.log("Ошибка:",e)}));var P=document.querySelector(".profile__edit-button"),q=document.querySelector(".popup__content"),I=q.querySelector(".popup__text_type_name"),U=q.querySelector(".popup__text_type_job"),B=document.querySelector(".popup__form_profile"),T=document.querySelector(".profile__add-button"),R=document.querySelector(".popup__form_place"),A=document.querySelector(".profile__photo"),x=document.querySelector(".popup__form_avatar"),V=(document.querySelector(".elements__delete"),new n(i,B));V.enableValidation();var N=new n(i,R);function D(e,t){return new r(e,t,".item__template",F).generateCard()}N.enableValidation(),new n(i,x).enableValidation();var J=new a({renderer:function(e){J.addItem(D(e.name,e.link))}},".elements__items"),M=new d(".popup_photo");function F(e,t){M.open(e,t)}M.setEventListeners();var z=new b({selectorUserName:".profile__title",selectorUserJob:".profile__subtitle"});P.addEventListener("click",(function(){var e;G.open(),V.enableButton(),V.resetErrors(),e=z.getUserInfo(),I.value=e.name,U.value=e.job})),L.getUserAvatar().then((function(e){return z.setUserAvatar({avatar:e.avatar})})).catch((function(e){return console.log("Ошибка:",e)}));var G=new C(".popup_edit-profile",(function(e){var t=e.name,n=e.job;L.updateUserInfo({name:t,about:n}).then((function(e){z.setUserInfo({name:e.name,job:e.about}),G.close()})).catch((function(e){return console.log("Ошибка:",e)}))}));G.setEventListeners(),T.addEventListener("click",(function(){R.reset(),H.open(),N.resetValidation(),N.resetErrors()}));var H=new C(".popup_place",(function(e){L.createNewCard({name:e.name,link:e.link}).then((function(e){J.addItem(D(e.name,e.link)),H.close()})).then((function(e){console.log("Новая карточка",e)})).catch((function(e){return console.log("Ошибка",e)}))}));H.setEventListeners();var K=new C(".popup_avatar",(function(e){var t=e.avatar;L.updateUseravatar({avatar:t}).then((function(e){z.setUserAvatar({avatar:e.avatar}),K.close()})).catch((function(e){return console.log("Ошибка",e)}))}));K.setEventListeners(),A.addEventListener("click",(function(){console.log("Клик"),K.open()})),Promise.all([]),new Popup(".popup_delete-card")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBUUMsSUFBSSxJQU9ZLElBQUlsRixNQUFNLHFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gIH1cblxuICAvLyDQnNC10YLQvtC0INC00L7QsdCw0LLQu9C10L3QuNGPINC60LvQsNGB0YHQsCDRgSDQvtGI0LjQsdC60L7QuVxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0YPQtNCw0LvQtdC90LjRjyDQutC70LDRgdGB0LAg0YEg0L7RiNC40LHQutC+0LkgXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7IC8vINCd0LDRhdC+0LTQuNC8INGN0LvQtdC80LXQvdGCINC+0YjQuNCx0LrQuFxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJzsgLy8g0J7Rh9C40YHRgtC40Lwg0L7RiNC40LHQutGDXG4gIH1cblxuICAvLyDQnNC10YLQvtC0INC/0YDQvtCy0LXRgNC60Lgg0LLQsNC70LjQtNC90L7RgdGC0Lgg0L/QvtC70Y9cbiAgX2lzVmFsaWQoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTsgICAvLyDQldGB0LvQuCDQv9C+0LvQtSDQvdC1INC/0YDQvtGF0L7QtNC40YIg0LLQsNC70LjQtNCw0YbQuNGOLCDQv9C+0LrQsNC20LXQvCDQvtGI0LjQsdC60YNcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTsgLy8g0JXRgdC70Lgg0L/RgNC+0YXQvtC00LjRgiwg0YHQutGA0L7QtdC8XG4gICAgfVxuICB9XG5cbiAgLy8gXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgLy8g0L/RgNC+0YXQvtC00LjQvCDQv9C+INGN0YLQvtC80YMg0LzQsNGB0YHQuNCy0YMg0LzQtdGC0L7QtNC+0Lwgc29tZVxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcblxuICAgIH0pO1xuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDQvdC1INCw0LrRgtC40LLQvdC+0Lkg0LrQvdC+0L/QutC4XG4gIGRpc2FibGVkQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cblxuICAvL9Cc0LXRgtC+0LQg0LDQutGC0LjQstC90L7QuSDQutC90L7Qv9C60LhcbiAgZW5hYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cblxuICAvL9Ck0YPQvdC60YbQuNGPINC/0YDQuNC90LjQvNCw0LXRgiDQvNCw0YHRgdC40LIg0L/QvtC70LXQuSDQstCy0L7QtNCwINC4INGN0LvQtdC80LXQvdGCINC60L3QvtC/0LrQuCwg0YHQvtGB0YLQvtGP0L3QuNC1INC60L7RgtC+0YDQvtC5INC90YPQttC90L4g0LzQtdC90Y/RgtGMXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZWRCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmFibGVCdXR0b24oKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vLyDQktGL0LfQvtCy0LXQvCDRhNGD0L3QutGG0LjRjiBpc1ZhbGlkINC90LAg0LrQsNC20LTRi9C5INCy0LLQvtC0INGB0LjQvNCy0L7Qu9CwXG4gIC8vIGZvcm1JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGlzVmFsaWQpO1xuICAvLyDQktC30LDQvNC10L0g0LXQuSDQvdCw0L/QuNGI0LXQvCDRgdC70YPRiNCw0YLQtdC70Ywg0L3QsCDQutCw0LbQtNC+0LUg0L/QvtC70LUg0LLQstC+0LTQsFxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcblxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICAvLyDQntCx0L7QudC00ZHQvCDQstGB0LUg0Y3Qu9C10LzQtdC90YLRiyDQv9C+0LvRg9GH0LXQvdC90L7QuSDQutC+0LvQu9C10LrRhtC40LhcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5faXNWYWxpZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgfTtcblxuXG4gIC8vINCU0LvRjyDQutCw0LbQtNC+0Lkg0YTQvtGA0LzRiyDQstGL0LfQvtCy0LXQvCDRhNGD0L3QutGG0LjRjiBzZXRFdmVudExpc3RlbmVycywg0L/QtdGA0LXQtNCw0LIg0LXQuSDRjdC70LXQvNC10L3RgiDRhNC+0YDQvNGLXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfTtcblxuICAvLyDQnNC10YLQvtC0INC/0LXRgNC10LrQu9GO0YfQtdC90LjRjyDQutC90L7Qv9C60LggXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gIH1cblxuICAvLyDQnNC10YLQvtC0INC+0YfQuNGJ0LXQvdC40Y8g0YHQv9C40YHQutCwINC+0YjQuNCx0L7QuiBcbiAgcmVzZXRFcnJvcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KVxuICAgIH0pXG4gIH1cblxufSIsImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IobmFtZSwgbGluaywgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIFxuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxuICAgIC5jb250ZW50XG4gICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19pdGVtJylcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cblxuICAvL9C80LXRgtC+0LQg0LLQvtC30LLRgNCw0YnQsNGO0YnQuNC5INCz0L7RgtC+0LLRg9GOINGA0LDQt9C80LXRgtC60YMsINGBINGD0YHRgtCw0L3QvtCy0LvQtdC90L3Ri9C80Lgg0LzQtdGC0L7QtNCw0LzQuCDQuCDRgdC70YPRiNCw0YLQtdC70Y/QvNC4XG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICAvLyDQl9Cw0L/QuNGI0LXQvCDRgNCw0LfQvNC10YLQutGDINCyINC/0YDQuNCy0LDRgtC90L7QtSDQv9C+0LvQtSBfX2VsZW1lbnQuICBcbiAgICAvLyDQotCw0Log0YMg0LTRgNGD0LPQuNGFINGN0LvQtdC80LXQvdGC0L7QsiDQv9C+0Y/QstC40YLRgdGPINC00L7RgdGC0YPQvyDQuiDQvdC10LkuXG5cbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcblxuICAgIGNvbnN0IGVsZW1lbnRzUGhvdG8gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fcGhvdG8nKTtcbiAgICBlbGVtZW50c1Bob3RvLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgZWxlbWVudHNQaG90by5hbHQgPSB0aGlzLl9uYW1lO1xuXG4gICAgY29uc3QgdGl0bGVQaG90byA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX190aXRsZScpO1xuICAgIHRpdGxlUGhvdG8udGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19saWtlJyk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICAvLyDQnNC10YLQvtC0INGD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxuICBfZGVsZXRlQ2FyZCgpIHtcbiAgIFxuICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgIFxuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDQv9C+0YHRgtCw0L3QvtCy0LrQuCDQu9Cw0LnQutCwXG4gIF9nZXRMaWtlKCkge1xuICAgIFxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50c19fbGlrZV9hY3RpdmUnKTtcbiAgICBcbiAgfVxuXG4gIC8vNC4g0L7QsdGJ0LjQuSDRgdC70YPRiNCw0YLQtdC70Ywg0YHQvtCx0YvRgtC40Lkg0L3QsCDQstGB0LUg0LLQvtC30LzQvtC20L3Ri9C1INC80LXRgtC+0LTRiywg0L/RgNC40LzQtdC90LjQvNGL0LUg0Log0LrQsNGA0YLQvtGH0LrQtVxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG5cbiAgICAvLzQuMSDRgdC70YPRiNCw0YLQtdC70Ywg0L3QsCDRg9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LhcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fZGVsZXRlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9kZWxldGVDYXJkKCk7XG4gICAgfSk7XG5cbiAgICAvLyA0LjIg0YHQu9GD0YjQsNGC0LXQu9GMINC90LAg0L/RgNC+0YHRgtCw0L3QvtCy0LrRgyDQu9Cw0LnQutCwINC60LDRgNGC0L7Rh9C60LhcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5fZ2V0TGlrZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gNC4zINGB0LvRg9GI0LDRgtC10LvRjCDQutC70LjQutCwINC/0L4g0YTQvtGC0L4gKNC00LvRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDRgSDRhNC+0YLQvikgXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX3Bob3RvJykuYWRkRXZlbnRMaXN0ZW5lciAoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspXG4gICAgfSk7ICAgXG4gIH1cblxuXG5cbiAgXG59IiwiLy8gZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbi8vICAge1xuLy8gICAgIG5hbWU6IFwi0JDRgNGF0YvQt1wiLFxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGdcIixcbi8vICAgfSxcbi8vICAge1xuLy8gICAgIG5hbWU6IFwi0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjFwiLFxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGdcIixcbi8vICAgfSxcbi8vICAge1xuLy8gICAgIG5hbWU6IFwi0JjQstCw0L3QvtCy0L5cIixcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZ1wiLFxuLy8gICB9LFxuLy8gICB7XG4vLyAgICAgbmFtZTogXCLQmtCw0LzRh9Cw0YLQutCwXCIsXG4vLyAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZ1wiLFxuLy8gICB9LFxuLy8gICB7XG4vLyAgICAgbmFtZTogXCLQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvVwiLFxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGdcIixcbi8vICAgfSxcbi8vICAge1xuLy8gICAgIG5hbWU6IFwi0JHQsNC50LrQsNC7XCIsXG4vLyAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZ1wiLFxuLy8gICB9LFxuLy8gXTtcblxuZXhwb3J0IGNvbnN0IGNvbmZpZ1NlbGVjdG9yID0ge1xuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19idXR0b24nLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9kaXNhYmxlZCcsXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJ1xufTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVVc2VyID0ge1xuICBzZWxlY3RvclVzZXJOYW1lOiAnLnByb2ZpbGVfX3RpdGxlJyxcbiAgc2VsZWN0b3JVc2VySm9iOiAnLnByb2ZpbGVfX3N1YnRpdGxlJyxcbn1cblxuZXhwb3J0IGNvbnN0IGNvbmZpZ0FwaSA9IHtcbiAgdXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDhcIixcbiAgaGVhZGVyczoge1xuICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIFwiYXV0aG9yaXphdGlvblwiOiBcIjI0MTZmYzgyLWJmYmMtNGI3OC1hNGZkLTQ0MmRhY2U2NGY3ZVwiLFxuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICAvL3RoaXMuX3JlbmRlckl0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgLyp0aGlzLl9yZW5kZXJJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTsqL1xuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKVxuICAgIH0pO1xuICB9XG5cbiAgLy/QnNC10YLQvtC0INC00L7QsdCw0LLQu9C10L3QuNGPINGN0LvQtdC80LXQvdGC0LAgLSDQv9GA0LjQvdC40LzQsNC10YIg0YHRhNC+0YDQvNC40YDQvtCy0LDQvdC90YPRjiDQutCw0YDRgtC+0YfQutGDINC4INC00L7QsdCw0LLQu9Cw0LXRgiDQtdC1INCyINC60L7QvdGC0LXQudC90LXRgFxuICBhZGRJdGVtKGNhcmRFbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xuICB9XG59IiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCkge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvclBvcHVwKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb3ZlcmxheUNsb3NlID0gdGhpcy5fb3ZlcmxheUNsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlLWJ1dHRvbicpO1xuICB9XG5cblxuICAvLyDQn9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQv9C+IEVzY1xuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8g0J/RgNC40LLQsNGC0L3Ri9C5INC80LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0L/QviDQntCy0LXRgNC70LXRjlxuICBfb3ZlcmxheUNsb3NlKGV2dCkge1xuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8g0JzQtdGC0L7QtCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsFxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb3ZlcmxheUNsb3NlKTtcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LBcbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vdmVybGF5Q2xvc2UpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSlcbiAgfVxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwKSB7XG4gICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5fcG9wdXBQaG90b1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19jYXB0aW9uJyk7XG4gICAgdGhpcy5fcG9wdXBQaG90b0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8nKTtcbiAgfVxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHRoaXMuX3BvcHVwUGhvdG9JbWcuc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3B1cFBob3RvSW1nLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fcG9wdXBQaG90b1RpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBzZWxlY3RvclVzZXJOYW1lLCBzZWxlY3RvclVzZXJKb2IsIHNlbGVjdG9yVXNlckF2YXRhciB9KSB7XG4gICAgdGhpcy5fc2VsZWN0b3JVc2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JVc2VyTmFtZSk7XG4gICAgdGhpcy5fc2VsZWN0b3JVc2VySm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvclVzZXJKb2IpO1xuICAgIHRoaXMuX3NlbGVjdG9yVXNlckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JVc2VyQXZhdGFyKTtcblxuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDQstC+0LfQstGA0LDRidCw0LXRgiDQvtCx0YrQtdC60YIg0YEg0LTQsNC90L3Ri9C80Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPLiDQnNC10YLQvtC0INC/0L7Qt9Cy0L7Qu9C40YIg0L/QvtC00YHRgtCw0LLQuNGC0Ywg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQsiDRhNC+0YDQvNGDINC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4LlxuICBnZXRVc2VySW5mbygpIHtcbiAgICBjb25zdCB1c2VyRGF0YSA9IHtcblxuICAgICAgbmFtZTogdGhpcy5fc2VsZWN0b3JVc2VyTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGpvYjogdGhpcy5fc2VsZWN0b3JVc2VySm9iLnRleHRDb250ZW50LFxuICAgICAgLy9hdmF0YXI6IHRoaXMuX3NlbGVjdG9yVXNlckF2YXRhci5zcmNcblxuICAgIH07XG5cbiAgICByZXR1cm4gdXNlckRhdGE7XG4gIH1cblxuICBnZXRVc2VyQXZhdGFyKCkge1xuXG4gICAgY29uc3QgdXNlckF2YXRhciA9IHtcbiAgICAgIGF2YXRhcjogdGhpcy5fc2VsZWN0b3JVc2VyQXZhdGFyLnNyY1xuICAgIH1cblxuICAgIHJldHVybiB1c2VyQXZhdGFyO1xuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDQv9GA0LjQvdC40LzQsNC10YIg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC00L7QsdCw0LLQu9GP0LXRgiDQuNGFINC90LAg0YHRgtGA0LDQvdC40YbRgy5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBqb2IgfSkge1xuICAgIHRoaXMuX3NlbGVjdG9yVXNlck5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX3NlbGVjdG9yVXNlckpvYi50ZXh0Q29udGVudCA9IGpvYjtcblxuICB9XG5cbiAgc2V0VXNlckF2YXRhcih7IGF2YXRhciB9KSB7XG4gICAgdGhpcy5fc2VsZWN0b3JVc2VyQXZhdGFyLnNyYyA9IGF2YXRhcjtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yUG9wdXAsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihzZWxlY3RvclBvcHVwKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG4gICAgdGhpcy5fZm9ybUlucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xuICAgIGNvbnNvbGUubG9nICh0aGlzLl9mb3JtKVxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgXG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuXG4gICAgdGhpcy5fZm9ybUlucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZX0pO1xuXG4gICAgXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcblxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pXG5cbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuXG4gICAgc3VwZXIuY2xvc2UoKTtcblxuICB9XG5cbn0iLCJpbXBvcnQgJy4uL3BhZ2VzL2luZGV4LmNzcyc7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCB7IENhcmQgfSBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IHsgaW5pdGlhbENhcmRzLFxuICAgICAgICBjb25maWdTZWxlY3RvcixcbiAgICAgICAgcHJvZmlsZVVzZXIsXG4gICAgICAgIGNvbmZpZ0FwaSB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCB7IEFwaSB9IGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aENvbmZpcm1hdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uJztcblxuY29uc3QgYXBpID0gbmV3IEFwaShjb25maWdBcGkpO1xuXG5hcGkuZ2V0QWxsQ2FyZHMoKVxuICAudGhlbigoaXRlbXMpID0+IHtcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcyhpdGVtcyk7XG4gIH0pXG4gIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsDonLCBlcnIpKVxuXG4vLyDQl9Cw0LPRgNGD0LfQutCwINC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0YEg0YHQtdGA0LLQtdGA0LAgXG5hcGkuZ2V0VXNlckluZm8oKS50aGVuKGRhdGEgPT4gbmV3VXNlci5zZXRVc2VySW5mbyh7XG4gIG5hbWU6IGRhdGEubmFtZSxcbiAgam9iOiBkYXRhLmFib3V0LFxufSkpXG4gIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsDonLCBlcnIpKVxuXG4vLyDQn9C10YDQtdC80LXQvdC90YvQtSDQtNC70Y8g0LjQt9C80LXQvdC10L3QuNGPINC/0YDQvtGE0LjQu9GPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuY29uc3QgYnV0dG9uT3BlblBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuY29uc3QgZm9ybUVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19jb250ZW50Jyk7XG5jb25zdCBuYW1lSW5wdXQgPSBmb3JtRWRpdFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX190ZXh0X3R5cGVfbmFtZScpO1xuY29uc3Qgam9iSW5wdXQgPSBmb3JtRWRpdFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX190ZXh0X3R5cGVfam9iJyk7XG5jb25zdCBmb3JtQWRkUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9wcm9maWxlJyk7XG4vLyDQn9C10YDQtdC80LXQvdC90YvQtSDQtNC70Y8g0L3QvtCy0L7Qs9C+INC80LXRgdGC0LAg0Lgg0YTQvtGC0L5cbmNvbnN0IGJ1dHRvbkFkZE9wZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuY29uc3QgZm9ybUFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fcGxhY2UnKTtcblxuY29uc3QgYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3Bob3RvJyk7XG5jb25zdCBmb3JtQWRkQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX2F2YXRhcicpO1xuXG5jb25zdCBidXR0b25EZWxldGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19kZWxldGUnKTtcblxuY29uc3QgZm9ybVByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWdTZWxlY3RvciwgZm9ybUFkZFByb2ZpbGUpO1xuZm9ybVByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vLyDQktCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LzRiyDQutCw0YDRgtC+0YfQutC4XG5jb25zdCBmb3JtQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ1NlbGVjdG9yLCBmb3JtQWRkQ2FyZCk7XG5mb3JtQ2FyZC5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vINCS0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvNGLINGB0LzQtdC90Ysg0LDQstCw0YLQsNGA0LBcbmNvbnN0IGZvcm1BdmF0YXIgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWdTZWxlY3RvciwgZm9ybUFkZEF2YXRhcik7XG5mb3JtQXZhdGFyLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy8g0KTRg9C90LrRhtC40Y8g0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4ICjQutCw0Log0L3QvtCy0L7QuSDQuNC3INGE0L7RgNC80YssINGC0LDQuiDQuCDQuNC3INC80LDRgdGB0LjQstCwKVxuZnVuY3Rpb24gY3JlYXRlQ2FyZChuYW1lLCBsaW5rKSB7XG5cbiAgLy8g0J7QsdGK0Y/QstC70Y/QtdC8INGB0L7Qt9C00LDQvdC40LUg0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4INC40Lcg0JrQu9Cw0YHRgdCwXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChuYW1lLCBsaW5rLCAnLml0ZW1fX3RlbXBsYXRlJywgaGFuZGxlQ2FyZENsaWNrKTtcblxuICAvLyDQl9Cw0LTQsNC10Lwg0Y3Qu9C10LzQtdC90YIgXCLQutCw0YDRgtCwXCIg0Lgg0LLRi9C30YvQstCw0LXQvCDQvNC10YLQvtC0INCz0LXQvdC10YDQsNGG0LjRjyDRgyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuXG4gIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdC8INGB0L7Qt9C00LDQvdGD0Y4g0LrQsNGA0YLQvtGH0LrRg1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59O1xuXG5cbi8vINCX0LDQs9GA0YPQttCw0LXQvCDQutCw0YDRgtC+0YfQutC4INC90LAg0YHRgtGA0LDQvdC40YbRgyDQuNC3INC80LDRgdGB0LjQstCwINC40YHRhdC+0LTQvdGL0YUg0LTQsNC90L3Ri9GFINGH0LXRgNC10Lcg0YHQvtC30LTQsNC90LjQtSDQvdC+0LLQvtC5INGB0LXQutGG0LjQuCDQuNC3INC60LvQsNGB0YHQsCDQodC10LrRhtC40Y9cbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xuICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoaXRlbS5uYW1lLCBpdGVtLmxpbmspKTtcbiAgfSxcbn0sICcuZWxlbWVudHNfX2l0ZW1zJyk7XG5cblxuLy8g0KTRg9C90LrRhtC40Y8g0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4INC90LAg0YHRgtGA0LDQvdC40YbRg1xuZnVuY3Rpb24gYWRkQ2FyZChjYXJkRWxlbWVudCkge1xuXG4gIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuXG59XG5cblxuLy8g0KTQo9Cd0JrQptCY0J7QndCQ0Jsg0J7QotCa0KDQq9Ci0JjQryDQn9Ce0J/QkNCf0JAg0KEg0JHQntCb0KzQqNCe0Jkg0JrQkNCg0KLQmNCd0JrQntCZINCf0KDQmCDQmtCb0JjQmtCVINCd0JAg0JrQkNCg0KLQntCn0JrQoyBcblxuLy8g0KHQvtC30LTQsNC90LjQtSDQv9C+0L/QsNC/0LAg0LjQtyDQutC70LDRgdGB0LAgUFdJXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfcGhvdG8nKTtcbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8g0KTRg9C90LrRhtC40Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0L/QviDQutC70LjQutGDINC/0L4g0LrQsNGA0YLQvtGH0LrQtSA9PiBQb3B1cFdpdGhJbWFnZVxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKG5hbWUsIGxpbmspIHtcblxuICBwb3B1cEltYWdlLm9wZW4obmFtZSwgbGluayk7XG5cbn07XG5cbi8vINCk0KPQndCa0KbQmNCe0J3QkNCbINCg0JDQkdCe0KLQqyDQoSDQn9Cg0J7QpNCY0JvQldCcINCf0J7Qm9Cs0JfQntCS0JDQotCV0JvQr1xuXG4vLyDQodC+0LfQtNCw0LXQvCDQvdC+0LLRi9C5INGN0LvQtdC80LXQvdGCINC60LvQsNGB0YHQsCBVc2VySW5mb1xuY29uc3QgbmV3VXNlciA9IG5ldyBVc2VySW5mbyhwcm9maWxlVXNlcik7XG5cbi8vINCh0LvRg9GI0LDRgtC10LvRjCDQtNC10LnRgdGC0LLQuNC5LiDQn9C+0L/QsNC/INC+0YLQutGA0YvRgtGMLCDQt9C90LDRh9C10L3QuNGPINCyINC/0L7Qu9C1INGE0L7RgNC80YsgPSDQuNGB0YXQvtC00L3QvtC80YMg0LjQvNC10L3QuCDQuCDRgNCw0LHQvtGC0LVcbmJ1dHRvbk9wZW5Qb3B1cFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgLy8g0J7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0J/RgNC+0YTQuNC70Y9cbiAgcG9wdXBFZGl0UHJvZmlsZS5vcGVuKCk7XG5cbiAgLy8g0JDQutGC0LjQstCw0YbQuNGPINC60L3QvtC/0LrQuCDQodCw0LHQvNC40YLQsFxuICBmb3JtUHJvZmlsZS5lbmFibGVCdXR0b24oKTtcblxuICAvLyDQktGL0LfQvtCyINC80LXRgtC+0LTQsCDQvtGH0LjRidC10L3QuNGPINC/0L7Qu9GPINC+0YjQuNCx0L7QulxuICBmb3JtUHJvZmlsZS5yZXNldEVycm9ycygpO1xuXG4gIC8vINCf0YDQuNGB0LLQvtC10L3QuNC1INC/0LXRgNCy0LjRh9C90YvRhSDQt9C90LDRh9C10L3QuNC5ICjRgdC+INGB0YLRgNCw0L3QuNGG0YspINCyINC/0L7Qu9GPINC+0YLQutGA0YvRgtC+0Lkg0YTQvtGA0LzRi1xuICBoYW5kbGVQcm9maWxlKCk7XG5cbn0pO1xuXG4vLyDQn9C10YDQstC40YfQvdGL0LUg0LfQvdCw0YfQtdC90LjRjyDQsiDQv9GA0L7RhNC40LvQtSDRhNC+0YDQvNGLXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlKCkge1xuXG4gIC8vINCS0YvQt9C+0LIg0YMg0L3QvtCy0L7Qs9C+INGN0LvQtdC80LXQvdGC0LAg0LrQu9Cw0YHRgdCwIFVzZXJJbmZvICDQvNC10YLQvtC00LAg0LLQvtC30LLRgNCw0YLQsCDQvtCx0YrQtdC60YLQsCDRgSDQtNCw0L3QvdGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgY29uc3QgdXNlckRhdGEgPSBuZXdVc2VyLmdldFVzZXJJbmZvKCk7XG5cbiAgLy8g0J/QvtC00YHRgtCw0LLQu9GP0LXQvCDQuNC80Y9cbiAgbmFtZUlucHV0LnZhbHVlID0gdXNlckRhdGEubmFtZTtcblxuICAvLyDQn9C+0LTRgdGC0LDQstC70Y/QtdC8INGA0LDQsdC+0YLRgyAo0LjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPKVxuICBqb2JJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLmpvYjtcblxuXG59O1xuXG4vLyDQl9Cw0L/QvtC70L3QtdC90LjQtSDRhNC+0YDQvNGLINC/0L7Qv9Cw0L/QsCDQn9GA0L7RhNC40LvRjyDQvdC+0LLRi9C80Lgg0LTQsNC90L3Ri9C80LgsINCy0LLQvtC00LjQvNGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQvFxuLy8g0JrQvtC0INC/0L4g0L3QvtCy0L7QuSDRgtC10L7RgNC40LhcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KHsgbmFtZSwgam9iIH0pIHtcbiAgLy8g0JLRi9C30L7QsiDRgyDQvdC+0LLQvtCz0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC80LXRgtC+0LTQsCDQv9C+0LTRgdGC0LDQvdC+0LLQutC4INC30L3QsNGH0LXQvdC40Lkg0LTQsNC90L3Ri9GFINC40Lcg0YTQvtGA0LzQuNGA0L7QstCw0L3QvdGL0YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLINCyIGZvcm1EYXRhXG4gIGFwaS51cGRhdGVVc2VySW5mbyh7IG5hbWU6IG5hbWUsIGFib3V0OiBqb2IgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgbmV3VXNlci5zZXRVc2VySW5mbyh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgam9iOiBkYXRhLmFib3V0XG4gICAgICB9KVxuICAgICAgLy8g0JfQsNC60YDRi9GC0Ywg0L/QvtC/0LDQvyDRhNC+0YDQvNGLINCf0YDQvtGE0LjQu9GPXG4gICAgICBwb3B1cEVkaXRQcm9maWxlLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LA6JywgZXJyKSlcbn07XG5cblxuXG4gIGFwaS5nZXRVc2VyQXZhdGFyKCkudGhlbihkYXRhID0+IG5ld1VzZXIuc2V0VXNlckF2YXRhcih7XG4gICAgYXZhdGFyOiBkYXRhLmF2YXRhclxuICB9KSlcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwOicsIGVycikpXG5cblxuXG4vLyDQodC+0LfQtNCw0L3QuNC1INC90L7QstC+0LPQviDRjdC70LXQvNC10L3RgtCwINCf0L7Qv9Cw0L8t0J/RgNC+0YTQuNC70Y8g0LjQtyDQutC70LDRgdGB0LAgUFdGXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF9lZGl0LXByb2ZpbGUnLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XG5wb3B1cEVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vINCk0KPQndCa0KbQmNCe0J3QkNCbINCe0KLQmtCg0KvQotCY0K8g0J/QntCf0JDQn9CQINCU0JvQryDQlNCe0JHQkNCS0JvQldCd0JjQryDQndCe0JLQntCZINCa0JDQoNCi0J7Qp9Ca0Jgg0J3QkCDQodCi0KDQkNCd0JjQptCjXG5cbi8vINCh0LvRg9GI0LDRgtC10LvRjCDQtNC10LnRgdGC0LLQuNC5OiDRgdCx0YDQvtGB0LjRgtGMINGE0L7RgNC80YMsINC+0YLQutGA0YvRgtGMINC/0L7Qv9Cw0L8g0JzQtdGB0YLQsCwg0LHQu9C+0LrQuNGA0L7QstC60LAg0LrQvdC+0L/QutC4XG5idXR0b25BZGRPcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXG4gIC8vINCh0LHRgNC+0YEg0L/QvtC70LXQuSDRhNC+0YDQvNGLINCf0L7Qv9Cw0L/QsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQtdC6XG4gIGZvcm1BZGRDYXJkLnJlc2V0KCk7XG5cbiAgLy8g0J7RgtC60YDRi9GC0LjQtSDQn9C+0L/QsNC/0LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuICBwb3B1cFBsYWNlLm9wZW4oKTtcblxuICAvLyDQktGL0LfQvtCyINC80LXRgtC+0LTQsCDQv9C10YDQtdC60LvRjtGH0LXQvdC40Y8g0LrQvdC+0L/QutC4XG4gIGZvcm1DYXJkLnJlc2V0VmFsaWRhdGlvbigpO1xuXG4gIC8vINCS0YvQt9C+0LIg0LzQtdGC0L7QtNCwINC+0YfQuNGJ0LXQvdC40Y8g0L/QvtC70Y8g0L7RiNC40LHQvtC6XG4gIGZvcm1DYXJkLnJlc2V0RXJyb3JzKCk7XG59KTtcblxuLy8g0KTRg9C90LrRhtC40Y8gLSDQvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjQuSDQv9C+INC00L7QsdCw0LLQu9C10L3QuNGOINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuCBcbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0KGRhdGEpIHtcblxuXG4gIGFwaS5jcmVhdGVOZXdDYXJkKHsgbmFtZTogZGF0YS5uYW1lLCBsaW5rOiBkYXRhLmxpbmsgfSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQocmVzdWx0Lm5hbWUsIHJlc3VsdC5saW5rKSk7IC8v0L/RgNC40YHQstCw0LjQstCw0LXQvCDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LUg0LfQvdCw0YfQtdC90LjRjyDQuNC3INC/0L7Qu9C10Lkg0YTQvtGA0LzRi1xuXG4gICAgICAvL2FkZENhcmQoY2FyZEVsZW1lbnQpO1xuXG4gICAgICBwb3B1cFBsYWNlLmNsb3NlKCk7XG4gICAgfSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygn0J3QvtCy0LDRjyDQutCw0YDRgtC+0YfQutCwJywgcmVzdWx0KVxuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwJywgZXJyKSlcblxufTtcblxuXG4vLyDQntCx0YrRj9Cy0LvQtdC90LjQtSDQvdC+0LLQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsCDQutC70LDRgdGB0LBcbmNvbnN0IHBvcHVwUGxhY2UgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3BsYWNlJywgaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXQpO1xucG9wdXBQbGFjZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5cblxuXG4vLyDQpNCj0J3QmtCm0JjQntCd0JDQmyDQoNCQ0JHQntCi0Ksg0KEg0J/QntCf0JDQn9Ce0Jwg0J7QkdCd0J7QktCb0JXQndCY0K8g0JDQktCQ0KLQkNCg0JAgPT4g0J3QlSDQoNCQ0JHQntCi0JDQldCiXG5cbi8vINCk0YPQvdC60YbQuNGPINC/0L4g0L7QsdC90L7QstC70LXQvdC40Y4g0LDQstCw0LDRgtCw0YBcblxuXG5cbmZ1bmN0aW9uIGhhbmRsZUFkZEF2YXRhckZvcm1TdWJtaXQoeyBhdmF0YXIgfSkge1xuXG4gIGFwaS51cGRhdGVVc2VyYXZhdGFyKHsgYXZhdGFyOiBhdmF0YXIgfSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBuZXdVc2VyLnNldFVzZXJBdmF0YXJcbiAgICAgICAgKHtcbiAgICAgICAgICBhdmF0YXI6IHJlc3VsdC5hdmF0YXJcbiAgICAgICAgfSlcbiAgICAgIHBvcHVwQXZhdGFyLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LAnLCBlcnIpKVxufVxuXG5cblxuLy8g0J7QsdGK0Y/QstC70LXQvdC40Y8g0L3QvtCy0L7Qs9C+INC60LvQsNGB0YHQsCDQv9C+0L/QsNC/0LAgLSDQv9C+0L/QsNC/INCw0LLQsNGC0LDRgNCwXG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfYXZhdGFyJywgaGFuZGxlQWRkQXZhdGFyRm9ybVN1Ym1pdCk7XG5wb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQodC70YPRiNCw0YLQtdC70Ywg0YHQvtCx0YvRgtC40Lkg0L3QsCDQvtGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCBcbmF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY29uc29sZS5sb2coJ9Ca0LvQuNC6JylcbiAgcG9wdXBBdmF0YXIub3BlbigpO1xufSlcblxuXG5Qcm9taXNlLmFsbChbXSlcblxuXG5cblxuLy8g0KTQo9Cd0JrQptCY0J7QndCQ0Jsg0KDQkNCR0J7QotCrINChINCf0J7Qn9CQ0J/QntCcINCj0JTQkNCb0JXQndCY0K8g0JrQkNCg0KLQntCn0JrQmFxuXG5jb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBuZXcgUG9wdXAoJy5wb3B1cF9kZWxldGUtY2FyZCcpO1xuLyog0L/RgNC40LTRg9C80LDRgtGMLCDQutCw0Log0YDQtdCw0LvQuNC30L7QstCw0YLRjCDQv9C+0YHQu9C10LTQvtCy0LDRgtC10LvRjNC90L7RgdGC0Ywg0YHQvtCx0YvRgtC40Lk6XG7QutC70LjQutCw0Y4g0L3QsCDQutC+0YDQt9C40L3RgyDQutCw0YDRgtC+0YfQutC4IC0+INCy0YvRgdC60LDQutC40LLQsNC10YIg0L/QvtC/0LDQvyBcItCS0Ysg0YPQstC10YDQtdC90Ys/XCIgLT4g0LrQu9C40LrQsNGOINC90LAgXCLQlNCwXCIgLT4gXG4tPiDRg9C00LDQu9GP0LXRgtGB0Y8g0LrQsNGA0YLQvtGH0LrQsCAo0YLQviDQtdGB0YLRjCDQvdCw0LTQviDQv9C+0LzQtdC90Y/RgtGMINGB0LvRg9GI0LDRgtC10LvRjCDRgdC+0LHRi9GC0LjRjyDQsiDRg9C00LDQu9C10L3QuNC4INC60LDRgNGC0L7Rh9C60LgpXG5cbnBvcHVwRGVsZXRlQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5idXR0b25EZWxldGVDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCdjbGljaycsIGZ1bmN0aW9uKCl7XG5cbnBvcHVwRGVsZXRlQ2FyZC5vcGVuKCk7XG5cbn0pKi9cblxuLypcbi8vINCf0KDQntCc0JjQodCrXG5cblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKV0pXG4udGhlbigocmVzKSA9PiB7XG4gIG5ld1VzZXIuc2V0VXNlckluZm8ocmVzKVxuICBuZXdVc2VyLnNldFVzZXJBdmF0YXIocmVzKVxufSlcbi5jYXRjaCAoKGVycikgPT4ge1xuICBjb25zb2xlLmxvZyAoZXJyKTtcbn0pKi9cbiJdLCJuYW1lcyI6WyJleHBvcnRzIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9jb25maWciLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInRleHRDb250ZW50IiwicmVtb3ZlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsInNldEF0dHJpYnV0ZSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWRCdXR0b24iLCJlbmFibGVCdXR0b24iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9pc1ZhbGlkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiQ2FyZCIsIm5hbWUiLCJsaW5rIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsIl9uYW1lIiwiX2xpbmsiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2hhbmRsZUNhcmRDbGljayIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImVsZW1lbnRzUGhvdG8iLCJzcmMiLCJhbHQiLCJfbGlrZUJ1dHRvbiIsInRvZ2dsZSIsIl9kZWxldGVDYXJkIiwiX2dldExpa2UiLCJjb25maWdTZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiaXRlbSIsImNhcmRFbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwic2VsZWN0b3JQb3B1cCIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfb3ZlcmxheUNsb3NlIiwiX2Nsb3NlQnV0dG9uIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwUGhvdG9UaXRsZSIsIl9wb3B1cFBob3RvSW1nIiwiVXNlckluZm8iLCJzZWxlY3RvclVzZXJOYW1lIiwic2VsZWN0b3JVc2VySm9iIiwic2VsZWN0b3JVc2VyQXZhdGFyIiwiX3NlbGVjdG9yVXNlck5hbWUiLCJfc2VsZWN0b3JVc2VySm9iIiwiX3NlbGVjdG9yVXNlckF2YXRhciIsImpvYiIsImF2YXRhciIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2Zvcm0iLCJfZm9ybUlucHV0TGlzdCIsImNvbnNvbGUiLCJsb2ciLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiYXBpIiwiQXBpIiwidXJsIiwiaGVhZGVycyIsImdldEFsbENhcmRzIiwidGhlbiIsImNhcmRMaXN0IiwicmVuZGVySXRlbXMiLCJjYXRjaCIsImVyciIsImdldFVzZXJJbmZvIiwiZGF0YSIsIm5ld1VzZXIiLCJzZXRVc2VySW5mbyIsImFib3V0IiwiYnV0dG9uT3BlblBvcHVwUHJvZmlsZSIsImZvcm1FZGl0UHJvZmlsZSIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiZm9ybUFkZFByb2ZpbGUiLCJidXR0b25BZGRPcGVuIiwiZm9ybUFkZENhcmQiLCJmb3JtQWRkQXZhdGFyIiwiZm9ybVByb2ZpbGUiLCJlbmFibGVWYWxpZGF0aW9uIiwiZm9ybUNhcmQiLCJjcmVhdGVDYXJkIiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsInBvcHVwSW1hZ2UiLCJvcGVuIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ1c2VyRGF0YSIsInBvcHVwRWRpdFByb2ZpbGUiLCJyZXNldEVycm9ycyIsImdldFVzZXJBdmF0YXIiLCJzZXRVc2VyQXZhdGFyIiwidXBkYXRlVXNlckluZm8iLCJwb3B1cFBsYWNlIiwicmVzZXRWYWxpZGF0aW9uIiwiY3JlYXRlTmV3Q2FyZCIsInJlc3VsdCIsInBvcHVwQXZhdGFyIiwidXBkYXRlVXNlcmF2YXRhciIsIlByb21pc2UiLCJhbGwiXSwic291cmNlUm9vdCI6IiJ9