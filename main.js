(()=>{"use strict";var e=document.querySelector(".profile__button_type_edit"),t=document.querySelector(".profile__button_type_add"),n=(document.querySelector(".cards__button_type_del"),document.querySelector(".profile__avatar")),o=document.querySelector(".popup_theme_profile"),r=document.querySelector(".popup_theme_place"),i=document.querySelector(".popup_theme_image"),a=document.querySelector(".popup_theme_avatar"),u=document.querySelector(".popup_theme_delete"),c=document.querySelector(".popup__button-close_theme_profile"),l=document.querySelector(".popup__button-close_theme_place"),s=document.querySelector(".popup__button-close_theme_image"),f=document.querySelector(".popup__button-close_theme_avatar"),p=document.querySelector(".popup__button-close_theme_delete"),_=i.querySelector(".popup__photo"),y=i.querySelector(".popup__photo-title"),d=document.querySelector(".profile__name"),h=document.querySelector(".profile__text"),v=document.querySelector(".profile__image"),m=document.querySelector(".popup__item_type_name"),b=document.querySelector(".popup__item_type_info"),k=document.querySelector(".popup__container"),g=(document.querySelector(".popup__form"),k.querySelector("form[name=record]")),S=a.querySelector("form[name=photo]"),w=(document.querySelector(".popup__form_theme_place"),r.querySelector("form[name=cards]")),E=(document.querySelector(".popup__item_type_newname"),document.querySelector(".popup__item_type_link"),document.querySelector(".cards"));function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}document.querySelector(".popup__button-save_yes"),new Api({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-48",headers:{authorization:"2416fc82-bfbc-4b78-a4fd-442dace64f7e","Content-Type":"application/json"}});var L=function(){function e(t,n,o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._selectorTemplate=n,this._onImageClick=o.imageClick,this._onRemove=o.remove,this._onLike=o.like,this._removeLike=o.removeLike,this._element=this._getTemplate(),this._image=this._element.querySelector(".cards__image"),this._title=this._element.querySelector(".cards__title"),this._likeButton=this._element.querySelector(".cards__button_type_like"),this._removeButton=this._element.querySelector(".cards__button_type_del"),this._likeCount=this._element.querySelector(".cards__like-number"),this._isLiked=this._data.likes.find((function(e){return e._id===r._data.currentUserId})),this._image.src=this._data.link,this._image.alt=this._data.name,this._title.textContent=this._data.name,this._likeCount.textContent=this._data.likes.length,this._setEventListeners()}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._selectorTemplate).content.querySelector(".cards__item").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._handlerLike()})),this._data.owner._id===this._data.currentUserId?this._removeButton.addEventListener("click",(function(){e._onRemove(e._data,(function(){return e._handlerRemove()}))})):this._removeButton.remove(),this._image.addEventListener("click",(function(){e._onImageClick(e._data)})),this._isLiked&&this._likeButton.classList.add("cards__button_type_like-active")}},{key:"_handlerLike",value:function(){var e=this;this._isLiked=this._data.likes.find((function(t){return t._id===e._data.currentUserId})),this._isLiked?(this._likeButton.classList.remove("cards__button_type_like-active"),this._removeLike(this._data,(function(t){console.log("Работаю removeLike",{newLikes:t}),e._data.likes=t,e._likeCount.textContent=e._data.likes.length}))):(this._likeButton.classList.add("cards__button_type_like-active"),this._onLike(this._data,(function(t){console.log("Работаю onLike",{newLikes:t}),e._data.likes=t,e._likeCount.textContent=e._data.likes.length})))}},{key:"_handlerRemove",value:function(){this._element.remove(),this._element=null}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var C=function(){function e(t,n){var o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=o,this._container=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"addNewItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var P=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=n}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"_setEventListeners",value:function(){var e=this;this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"deleteMistakes",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)})),this._toggleButtonState()}},{key:"disableButton",value:function(){this._buttonElement.setAttribute("disabled",!0),this._buttonElement.classList.add(this._config.inactiveButtonClass)}},{key:"enableButton",value:function(){this._buttonElement.removeAttribute("disabled",!1),this._buttonElement.classList.remove(this._config.inactiveButtonClass)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableButton():this.enableButton()}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),n.textContent=t,n.classList.add(this._config.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));t.textContent="",e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass)}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const I={formSelector:".popup__form",inputSelector:".popup__item",submitButtonSelector:".popup__button-save",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__item_type_error",errorClass:"popup__item-error_active"};function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var B=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._closeButton=n,this._saveButton=this._popup.querySelector(".popup__button-save"),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleOverlayClose",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._closeButton.addEventListener("click",(function(){e.close()})),this._popup.addEventListener("click",(function(t){e._handleOverlayClose(t)}))}},{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("popup_opened")}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"addSaving",value:function(){this._saveButton.textContent="Сохранение..."}},{key:"deleteSaving",value:function(e){this._saveButton.textContent=e}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=U(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},A.apply(this,arguments)}function U(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function D(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=M(o);if(r){var n=M(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return D(this,e)});function a(e,t,n,o){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t))._image=n,r._title=o,r}return t=a,(n=[{key:"open",value:function(e){var t=e.data;this._image.src=t.link,this._image.alt=t.name,this._title.textContent=t.name,A(M(a.prototype),"open",this).call(this)}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(B);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function $(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function F(){return F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=G(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},F.apply(this,arguments)}function G(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=K(e)););return e}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function J(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=K(o);if(r){var n=K(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return J(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(o=i.call(this,e,n))._handleSubmit=t,o._form=o._popup.querySelector(".popup__form"),o._inputList=o._form.querySelectorAll(".popup__item"),o._setEventListeners=o.setEventListeners(),o}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit(e._getInputValues())})),F(K(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._form.reset(),F(K(a.prototype),"close",this).call(this)}}])&&$(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(B);function W(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var X=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._info=n,this._avatar=o}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._info.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,o=e._id;this._name.textContent=t,this._info.textContent=n,this._id=o}},{key:"setUserAvatar",value:function(e){var t=e.avatar;this._avatar.src=t}}])&&W(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function Z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ee(){return ee="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=te(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},ee.apply(this,arguments)}function te(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=re(e)););return e}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function oe(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=re(o);if(r){var n=re(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return oe(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(o=i.call(this,e,n))._handleSubmit=t,o._form=o._popup.querySelector(".popup__form"),o}return t=a,(n=[{key:"open",value:function(e,t){ee(re(a.prototype),"open",this).call(this),this._currentData=e,this._removeCallback=t}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit(e._currentData,e._removeCallback)})),ee(re(a.prototype),"setEventListeners",this).call(this)}}])&&Z(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(B);function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ue=new P(I,g);ue.enableValidation();var ce=new P(I,w);ce.enableValidation();var le=new P(I,S);le.enableValidation();var se=new X(d,h,v),fe=new ie(u,(function(e,t){fe.addSaving(),api.deleteCard(e._id).then((function(){t(),fe.close()})).catch((function(e){console.log(e)})).finally((function(){return fe.deleteSaving("Да")}))}),p),pe=new N(i,s,_,y);pe.setEventListeners(),fe.setEventListeners();var _e=new Q(o,(function(e){var t=e.name,n=e.job;_e.addSaving(),api.setUserInfo({name:t,about:n}).then((function(e){se.setUserInfo({name:e.name,about:e.about}),_e.close()})).catch((function(e){console.log(e)})).finally((function(){return _e.deleteSaving("Сохранить")}))}),c),ye=new Q(r,(function(e){ye.addSaving(),api.setNewCard({name:e.newname,link:e.link}).then((function(e){me.addNewItem(ve(e)),ye.close()})).catch((function(e){console.log(e)})).finally((function(){return ye.deleteSaving("Создать")}))}),l),de=new Q(a,(function(e){var t=e.avatar;de.addSaving(),api.setProfileAvatar({avatar:t}).then((function(e){se.setUserAvatar({avatar:e.avatar}),de.close()})).catch((function(e){console.log(e)})).finally((function(){return de.deleteSaving("Сохранить")}))}),f),he=0,ve=function(e){return e.currentUserId=he,new L(e,"#card-template",{imageClick:Se,remove:ge,like:be,removeLike:ke}).generateCard()},me=new C({renderer:function(e){me.addItem(ve(e))}},E);function be(e,t){api.likeCard(e._id).then((function(e){t(e.likes)})).catch((function(e){console.log(e)}))}function ke(e,t){api.likeRemove(e._id).then((function(e){t(e.likes)})).catch((function(e){console.log(e)}))}function ge(e,t){fe.open(e,t)}function Se(e){var t=e.name,n=e.link;pe.open({data:{name:t,link:n}})}e.addEventListener("click",(function(){var e=se.getUserInfo();m.value=e.name,b.value=e.job,_e.open(),ue.deleteMistakes()})),t.addEventListener("click",(function(){w.reset(),ce.deleteMistakes(),ye.open()})),n.addEventListener("click",(function(){le.deleteMistakes(),de.open()})),Promise.all([api.getUserInfo(),api.getInitialCards()]).then((function(e){var t,n,o=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw r}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[0],i=o[1];se.setUserInfo(r),se.setUserAvatar(r),he=r._id,me.renderItems(i,r._id)})).catch((function(e){console.log(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxJLGt4QkFBaEJRLEVBQWdCLEtBQVg3RixFQUFXLEtBQ3RCZ0YsR0FBYVksWUFBWUMsR0FDekJiLEdBQWFzQixjQUFjVCxHQUMzQnhILEdBQWdCd0gsRUFBSXpILElBQ3BCNkgsR0FBVXNCLFlBQVl2SCxFQUFPNkYsRUFBSXpILElBQ2xDLElBQ0FrSCxPQUFNLFNBQUNDLEdBQ05qRyxRQUFRQyxJQUFJZ0csRUFDYixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGJ1dHRvbkVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J1dHRvbl90eXBlX2VkaXRcIik7XG5leHBvcnQgY29uc3QgYnV0dG9uQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idXR0b25fdHlwZV9hZGRcIik7XG5leHBvcnQgY29uc3QgYnV0dG9uRGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fYnV0dG9uX3R5cGVfZGVsXCIpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkVkaXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3RoZW1lX3Byb2ZpbGVcIik7XG5leHBvcnQgY29uc3QgcG9wdXBQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdGhlbWVfcGxhY2VcIik7XG5leHBvcnQgY29uc3QgcG9wdXBDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90aGVtZV9pbWFnZVwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdGhlbWVfYXZhdGFyXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwRGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90aGVtZV9kZWxldGVcIik7XG5leHBvcnQgY29uc3QgcG9wdXBDbG9zZUJ1dHRvblByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wb3B1cF9fYnV0dG9uLWNsb3NlX3RoZW1lX3Byb2ZpbGVcIlxuKTtcbmV4cG9ydCBjb25zdCBwb3B1cENsb3NlQnV0dG9uUGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wb3B1cF9fYnV0dG9uLWNsb3NlX3RoZW1lX3BsYWNlXCJcbik7XG5leHBvcnQgY29uc3QgcG9wdXBDbG9zZUJ1dHRvbkltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucG9wdXBfX2J1dHRvbi1jbG9zZV90aGVtZV9pbWFnZVwiXG4pO1xuZXhwb3J0IGNvbnN0IHBvcHVwQ2xvc2VCdXR0b25BdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wb3B1cF9fYnV0dG9uLWNsb3NlX3RoZW1lX2F2YXRhclwiXG4pO1xuXG5leHBvcnQgY29uc3QgcG9wdXBDbG9zZUJ1dHRvbkNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wb3B1cF9fYnV0dG9uLWNsb3NlX3RoZW1lX2RlbGV0ZVwiXG4pO1xuZXhwb3J0IGNvbnN0IHBvcHVwSW1nID0gcG9wdXBDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3Bob3RvXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwVGl0bGUgPSBwb3B1cENhcmQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fcGhvdG8tdGl0bGVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RleHRcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faXRlbV90eXBlX25hbWVcIik7XG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pdGVtX3R5cGVfaW5mb1wiKTtcbmV4cG9ydCBjb25zdCBwb3B1cENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NvbnRhaW5lclwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cEZvcm1OYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbmV4cG9ydCBjb25zdCBmb3JtQWRkTmFtZSA9IHBvcHVwQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCJmb3JtW25hbWU9cmVjb3JkXVwiKTtcbmV4cG9ydCBjb25zdCBmb3JtQWRkQXZhdGFyID0gcG9wdXBBdmF0YXIucXVlcnlTZWxlY3RvcihcImZvcm1bbmFtZT1waG90b11cIik7XG5leHBvcnQgY29uc3QgZm9ybUNvbnRhaW5lckNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV90aGVtZV9wbGFjZVwiKTtcbmV4cG9ydCBjb25zdCBmb3JtQWRkQ2FyZHMgPSBwb3B1cFBsYWNlLnF1ZXJ5U2VsZWN0b3IoXCJmb3JtW25hbWU9Y2FyZHNdXCIpO1xuZXhwb3J0IGNvbnN0IGZvcm1JbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pdGVtX3R5cGVfbmV3bmFtZVwiKTtcbmV4cG9ydCBjb25zdCBmb3JtSW5wdXRJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2l0ZW1fdHlwZV9saW5rXCIpO1xuZXhwb3J0IGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc1wiKTtcbmV4cG9ydCBjb25zdCBidXR0b25EZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uLXNhdmVfeWVzXCIpO1xuXG5leHBvcnQgY29uc3QgY29uZmlnQXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00OFwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCIyNDE2ZmM4Mi1iZmJjLTRiNzgtYTRmZC00NDJkYWNlNjRmN2VcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIHNlbGVjdG9yVGVtcGxhdGUsIGhhbmRsZXIpIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9zZWxlY3RvclRlbXBsYXRlID0gc2VsZWN0b3JUZW1wbGF0ZTtcbiAgICB0aGlzLl9vbkltYWdlQ2xpY2sgPSBoYW5kbGVyLmltYWdlQ2xpY2s7XG4gICAgdGhpcy5fb25SZW1vdmUgPSBoYW5kbGVyLnJlbW92ZTtcbiAgICB0aGlzLl9vbkxpa2UgPSBoYW5kbGVyLmxpa2U7XG4gICAgdGhpcy5fcmVtb3ZlTGlrZSA9IGhhbmRsZXIucmVtb3ZlTGlrZTtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcblxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19pbWFnZVwiKTtcbiAgICB0aGlzLl90aXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fdGl0bGVcIik7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fYnV0dG9uX3R5cGVfbGlrZVwiKTtcblxuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fYnV0dG9uX3R5cGVfZGVsXCIpO1xuICAgIHRoaXMuX2xpa2VDb3VudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlrZS1udW1iZXJcIik7XG5cbiAgICB0aGlzLl9pc0xpa2VkID0gdGhpcy5fZGF0YS5saWtlcy5maW5kKFxuICAgICAgKGl0ZW0pID0+IGl0ZW0uX2lkID09PSB0aGlzLl9kYXRhLmN1cnJlbnRVc2VySWRcbiAgICApO1xuXG5cbiAgICB0aGlzLl9pbWFnZS5zcmMgPSB0aGlzLl9kYXRhLmxpbms7XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gdGhpcy5fZGF0YS5uYW1lO1xuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpa2VDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgLy8g0LfQsNCx0LjRgNCw0LXQvCDRgNCw0LfQvNC10YLQutGDINC40LcgSFRNTCDQuCDQutC70L7QvdC40YDRg9C10Lwg0Y3Qu9C10LzQtdC90YJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvclRlbXBsYXRlKSAvLyDQuNGB0L/QvtC70YzQt9GD0LXQvCB0aGlzLl9zZWxlY3RvclRlbXBsYXRlXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19pdGVtXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgLy8g0LLQtdGA0L3RkdC8IERPTS3RjdC70LXQvNC10L3RgiDQutCw0YDRgtC+0YfQutC4XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlckxpa2UoKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGlzT3duZXIgPSB0aGlzLl9kYXRhLm93bmVyLl9pZCA9PT0gdGhpcy5fZGF0YS5jdXJyZW50VXNlcklkO1xuICAgIGlmIChpc093bmVyKSB7XG4gICAgICB0aGlzLl9yZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fb25SZW1vdmUodGhpcy5fZGF0YSwgKCkgPT4gdGhpcy5faGFuZGxlclJlbW92ZSgpKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZW1vdmVCdXR0b24ucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5faW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX29uSW1hZ2VDbGljayh0aGlzLl9kYXRhKTtcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLl9pc0xpa2VkKVxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZHNfX2J1dHRvbl90eXBlX2xpa2UtYWN0aXZlXCIpO1xuICB9XG5cbiAgX2hhbmRsZXJMaWtlKCkge1xuICAgIHRoaXMuX2lzTGlrZWQgPSB0aGlzLl9kYXRhLmxpa2VzLmZpbmQoXG4gICAgICAoaXRlbSkgPT4gaXRlbS5faWQgPT09IHRoaXMuX2RhdGEuY3VycmVudFVzZXJJZFxuICAgICk7XG5cbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZHNfX2J1dHRvbl90eXBlX2xpa2UtYWN0aXZlXCIpO1xuICAgICAgdGhpcy5fcmVtb3ZlTGlrZSh0aGlzLl9kYXRhLCAobmV3TGlrZXMpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCLQoNCw0LHQvtGC0LDRjiByZW1vdmVMaWtlXCIsIHsgbmV3TGlrZXMgfSk7XG4gICAgICAgIHRoaXMuX2RhdGEubGlrZXMgPSBuZXdMaWtlcztcbiAgICAgICAgdGhpcy5fbGlrZUNvdW50LnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZHNfX2J1dHRvbl90eXBlX2xpa2UtYWN0aXZlXCIpO1xuICAgICAgdGhpcy5fb25MaWtlKHRoaXMuX2RhdGEsIChuZXdMaWtlcykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcItCg0LDQsdC+0YLQsNGOIG9uTGlrZVwiLCB7IG5ld0xpa2VzIH0pO1xuICAgICAgICB0aGlzLl9kYXRhLmxpa2VzID0gbmV3TGlrZXM7XG4gICAgICAgIHRoaXMuX2xpa2VDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubGlrZXMubGVuZ3RoO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZXJSZW1vdmUoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvcjtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XG4gIH1cblxuICBhZGROZXdJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxuXG4gXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgfVxuXG4gIC8v0J/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQg0LLQsNC70LjQtNCw0YbQuNC4XG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8vINCh0LvRg9GI0LDRgtC10LvRjCDRgdC+0LHRi9GC0LjQuVxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpXG4gICAgKTtcblxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcblxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgLy8g0JzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0L7Rh9C40YnQsNC10YIg0L7RiNC40LHQutGDXG4gIGRlbGV0ZU1pc3Rha2VzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INC+0YLQutC70Y7Rh9Cw0LXRgiDQutC90L7Qv9C60YNcbiAgZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cblxuICAvLyDQnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQstC60LvRjtGH0LDQtdGCINC60L3QvtC/0LrRg1xuICBlbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INGB0YLQuNC70LjQt9GD0LXRgiDQutC90L7Qv9C60YMg0Lgg0LTQtdC70LDQtdGCINC60L3QvtC/0LrRgyDQsNC60YLQuNCy0L3QvtC5INC40LvQuCDQvdC10YJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIC8vINCV0YHQu9C4INC10YHRgtGMINGF0L7RgtGPINCx0Ysg0L7QtNC40L0g0L3QtdCy0LDQu9C40LTQvdGL0Lkg0LjQvdC/0YPRglxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgLy8g0YHQtNC10LvQsNC5INC60L3QvtC/0LrRgyDQvdC10LDQutGC0LjQstC90L7QuVxuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vINC40L3QsNGH0LUg0YHQtNC10LvQsNC5INC60L3QvtC/0LrRgyDQsNC60YLQuNCy0L3QvtC5XG4gICAgICB0aGlzLmVuYWJsZUJ1dHRvbigpO1xuICAgIH1cbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INC/0YDQvtCy0LXRgNGP0LXRgiDQstGB0LUg0L/QvtC70Y8g0YTQvtGA0LzRi1xuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIC8vINC/0YDQvtGF0L7QtNC40Lwg0L/QviDRjdGC0L7QvNGDINC80LDRgdGB0LjQstGDINC80LXRgtC+0LTQvtC8IHNvbWVcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgLy8g0JXRgdC70Lgg0L/QvtC70LUg0L3QtSDQstCw0LvQuNC00L3Qviwg0LrQvtC70LHRjdC6INCy0LXRgNC90ZHRgiB0cnVlXG4gICAgICAvLyDQntCx0YXQvtC0INC80LDRgdGB0LjQstCwINC/0YDQtdC60YDQsNGC0LjRgtGB0Y8g0Lgg0LLRgdGPINGE0YPQvdC60YbQuNGPXG4gICAgICAvLyBoYXNJbnZhbGlkSW5wdXQg0LLQtdGA0L3RkdGCIHRydWVcblxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICAvLyDQnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQtNC10LvQsNC10YIg0LLQsNC70LjQtNCw0YbQuNGOINC/0L7Qu9GPXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICAvLyDQnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQtNC+0LHQsNCy0LvRj9C10YIg0LrQu9Cw0YHRgSDRgSDQvtGI0LjQsdC60L7QuVxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICAvLyDQndCw0YXQvtC00LjQvCDRjdC70LXQvNC10L3RgiDQvtGI0LjQsdC60Lgg0LLQvdGD0YLRgNC4INGB0LDQvNC+0Lkg0YTRg9C90LrRhtC40LhcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcblxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XG4gIH1cblxuICAvLyDQnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDRg9C00LDQu9GP0LXRgiDQutC70LDRgdGBINGBINC+0YjQuNCx0LrQvtC5XG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICAvLyDQndCw0YXQvtC00LjQvCDRjdC70LXQvNC10L3RgiDQvtGI0LjQsdC60LhcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcblxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2l0ZW0nLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uLXNhdmUnLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9pbmFjdGl2ZScsXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pdGVtX3R5cGVfZXJyb3InLFxuICBlcnJvckNsYXNzOiAncG9wdXBfX2l0ZW0tZXJyb3JfYWN0aXZlJ1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgYnV0dG9uQ2xvc2UpIHtcbiAgICB0aGlzLl9wb3B1cCA9IHBvcHVwU2VsZWN0b3I7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSBidXR0b25DbG9zZTtcbiAgICB0aGlzLl9zYXZlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tc2F2ZScpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgX2hhbmRsZU92ZXJsYXlDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlKGV2dCk7XG4gICAgfSk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBhZGRTYXZpbmcoKSB7XG4gICAgdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XG4gIH1cblxuICBkZWxldGVTYXZpbmcoc2F2ZUJ1dHRvblRpdGxlKSB7XG4gICAgdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmVCdXR0b25UaXRsZTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGJ1dHRvbkNsb3NlLCBwb3B1cEltZywgcG9wdXBUaXRsZSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IsIGJ1dHRvbkNsb3NlKTtcbiAgICB0aGlzLl9pbWFnZSA9IHBvcHVwSW1nO1xuICAgIHRoaXMuX3RpdGxlID0gcG9wdXBUaXRsZTtcbiAgfVxuXG4gIG9wZW4oe2RhdGF9KSB7XG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbi8vIG5hbWUsIGxpbmtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXQsIGJ1dHRvbkNsb3NlKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3RvciwgYnV0dG9uQ2xvc2UpO1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2l0ZW1cIik7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyA9IHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICBcbiAgICB9KTtcblxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBqb2IsIGF2YXRhcikge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2luZm8gPSBqb2I7XG4gICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX2luZm8udGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQsIF9pZH0pIHtcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9pbmZvLnRleHRDb250ZW50ID0gYWJvdXQ7XG4gICAgIHRoaXMuX2lkID0gX2lkO1xuICB9XG5cbiAgc2V0VXNlckF2YXRhcih7IGF2YXRhciB9KSB7XG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcbiAgfVxuXG4gIFxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0LCBidXR0b25DbG9zZSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IsIGJ1dHRvbkNsb3NlKTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gIH1cblxuICBvcGVuKGN1cnJlbnREYXRhLCByZW1vdmVDYWxsYmFjaykge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9jdXJyZW50RGF0YSA9IGN1cnJlbnREYXRhO1xuICAgIHRoaXMuX3JlbW92ZUNhbGxiYWNrID0gcmVtb3ZlQ2FsbGJhY2s7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCh0aGlzLl9jdXJyZW50RGF0YSwgdGhpcy5fcmVtb3ZlQ2FsbGJhY2spO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbmltcG9ydCB7XG4gIGJ1dHRvbkVkaXQsXG4gIGJ1dHRvbkFkZCxcbiAgcG9wdXBQcm9maWxlLFxuICBwb3B1cFBsYWNlLFxuICBwb3B1cENhcmQsXG4gIHBvcHVwQXZhdGFyLFxuICBwb3B1cENsb3NlQnV0dG9uUHJvZmlsZSxcbiAgcG9wdXBDbG9zZUJ1dHRvblBsYWNlLFxuICBwb3B1cENsb3NlQnV0dG9uSW1hZ2UsXG4gIHBvcHVwQ2xvc2VCdXR0b25BdmF0YXIsXG4gIHBvcHVwSW1nLFxuICBwb3B1cFRpdGxlLFxuICBwcm9maWxlTmFtZSxcbiAgcHJvZmlsZUluZm8sXG4gIG5hbWVJbnB1dCxcbiAgam9iSW5wdXQsXG4gIGZvcm1BZGROYW1lLFxuICBmb3JtQWRkQXZhdGFyLFxuICBmb3JtQWRkQ2FyZHMsXG4gIGZvcm1JbnB1dE5hbWUsXG4gIGZvcm1JbnB1dEltYWdlLFxuICBjYXJkc0NvbnRhaW5lcixcbiAgYnV0dG9uRWRpdEF2YXRhcixcbiAgcHJvZmlsZUF2YXRhcixcbiAgcG9wdXBEZWwsXG4gIHBvcHVwQ2xvc2VCdXR0b25Db25maXJtLFxuICBidXR0b25EZWwsXG4gIGJ1dHRvbkRlbGV0ZUNvbmZpcm0sXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vdXRpbHMvY29uZmlnLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQge2NvbmZpZ0FwaX0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiXG5cbi8v0LTQvtCx0LDQstC70Y/QtdC8INCy0LDQu9C40LTQsNGG0LjRjiDRhNC+0YDQvNCw0LxcbmNvbnN0IGZvcm1WYWxpZGF0b3JBZGROYW1lID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtQWRkTmFtZSk7XG5mb3JtVmFsaWRhdG9yQWRkTmFtZS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGZvcm1WYWxpZGF0b3JBZGRDYXJkcyA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUFkZENhcmRzKTtcbmZvcm1WYWxpZGF0b3JBZGRDYXJkcy5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGZvcm1WYWxpZGF0b3JBZGRBdmF0YXIgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1BZGRBdmF0YXIpO1xuZm9ybVZhbGlkYXRvckFkZEF2YXRhci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHVzZXJJbmZvRGF0YSA9IG5ldyBVc2VySW5mbyhwcm9maWxlTmFtZSwgcHJvZmlsZUluZm8sIHByb2ZpbGVBdmF0YXIpO1xuXG5jb25zdCBwb3B1cENvbmZpcm0gPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFxuICBwb3B1cERlbCxcbiAgZGVsZXRlRm9ybUNhcmQsXG4gIHBvcHVwQ2xvc2VCdXR0b25Db25maXJtXG4pO1xuXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFxuICBwb3B1cENhcmQsXG4gIHBvcHVwQ2xvc2VCdXR0b25JbWFnZSxcbiAgcG9wdXBJbWcsXG4gIHBvcHVwVGl0bGVcbik7XG5cbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwQ29uZmlybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cEZvcm1Qcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIHBvcHVwUHJvZmlsZSxcbiAgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQsXG4gIHBvcHVwQ2xvc2VCdXR0b25Qcm9maWxlXG4pO1xuXG5jb25zdCBwb3B1cEZvcm1DYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIHBvcHVwUGxhY2UsXG4gIGhhbmRsZUNhcmRzU3VibWl0LFxuICBwb3B1cENsb3NlQnV0dG9uUGxhY2Vcbik7XG5cbmNvbnN0IHBvcHVwRm9ybUF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBwb3B1cEF2YXRhcixcbiAgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCxcbiAgcG9wdXBDbG9zZUJ1dHRvbkF2YXRhclxuKTtcblxubGV0IGN1cnJlbnRVc2VySWQgPSAwO1xuXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcbiAgZGF0YS5jdXJyZW50VXNlcklkID0gY3VycmVudFVzZXJJZDtcblxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgXCIjY2FyZC10ZW1wbGF0ZVwiLCB7XG4gICAgaW1hZ2VDbGljazogaGFuZGxlQ2FyZENsaWNrLFxuICAgIHJlbW92ZTogaGFuZGxlT3BlbkNvbmZpcm1Qb3B1cCxcbiAgICBsaWtlOiBoYW5kbGVMaWtlQ2xpY2ssXG4gICAgcmVtb3ZlTGlrZTogaGFuZGxlTGlrZVJlbW92ZSxcbiAgfSk7XG5cbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59O1xuXG5jb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY2FyZHNMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSk7XG4gICAgfSxcbiAgfSxcbiAgY2FyZHNDb250YWluZXJcbik7XG5cbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjdXJyZW50RGF0YSwgbGlrZUNhbGxiYWNrKSB7XG4gIGFwaVxuICAgIC5saWtlQ2FyZChjdXJyZW50RGF0YS5faWQpXG4gICAgLnRoZW4oKHVwZGF0ZWREYXRhKSA9PiB7XG4gICAgICBsaWtlQ2FsbGJhY2sodXBkYXRlZERhdGEubGlrZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUxpa2VSZW1vdmUoY3VycmVudERhdGEsIGxpa2VDYWxsYmFjaykge1xuICBhcGlcbiAgICAubGlrZVJlbW92ZShjdXJyZW50RGF0YS5faWQpXG4gICAgLnRoZW4oKHVwZGF0ZWREYXRhKSA9PiB7XG4gICAgICBsaWtlQ2FsbGJhY2sodXBkYXRlZERhdGEubGlrZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU9wZW5Db25maXJtUG9wdXAoY3VycmVudERhdGEsIHJlbW92ZUNhbGxiYWNrKSB7XG4gIHBvcHVwQ29uZmlybS5vcGVuKGN1cnJlbnREYXRhLCByZW1vdmVDYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZUZvcm1DYXJkKGN1cnJlbnREYXRhLCByZW1vdmVDYWxsYmFjaykge1xuICBwb3B1cENvbmZpcm0uYWRkU2F2aW5nKCk7XG5cbiAgYXBpXG4gICAgLmRlbGV0ZUNhcmQoY3VycmVudERhdGEuX2lkKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJlbW92ZUNhbGxiYWNrKCk7XG4gICAgICBwb3B1cENvbmZpcm0uY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBDb25maXJtLmRlbGV0ZVNhdmluZyhcItCU0LBcIikpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVDYXJkc1N1Ym1pdChkYXRhKSB7XG4gIHBvcHVwRm9ybUNhcmQuYWRkU2F2aW5nKCk7XG4gIGFwaVxuICAgIC5zZXROZXdDYXJkKHsgbmFtZTogZGF0YS5uZXduYW1lLCBsaW5rOiBkYXRhLmxpbmsgfSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjYXJkc0xpc3QuYWRkTmV3SXRlbShcbiAgICAgICAgY3JlYXRlQ2FyZChyZXMsIFwiI2NhcmQtdGVtcGxhdGVcIiwge1xuICAgICAgICAgIGltYWdlQ2xpY2s6IGhhbmRsZUNhcmRDbGljayxcbiAgICAgICAgICByZW1vdmU6IGhhbmRsZU9wZW5Db25maXJtUG9wdXAsXG4gICAgICAgICAgbGlrZTogaGFuZGxlTGlrZUNsaWNrLFxuICAgICAgICAgIHJlbW92ZUxpa2U6IGhhbmRsZUxpa2VSZW1vdmUsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgcG9wdXBGb3JtQ2FyZC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cEZvcm1DYXJkLmRlbGV0ZVNhdmluZyhcItCh0L7Qt9C00LDRgtGMXCIpKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQoeyBuYW1lLCBqb2IgfSkge1xuICBwb3B1cEZvcm1Qcm9maWxlLmFkZFNhdmluZygpO1xuICBhcGlcbiAgICAuc2V0VXNlckluZm8oeyBuYW1lOiBuYW1lLCBhYm91dDogam9iIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm9EYXRhLnNldFVzZXJJbmZvKHsgbmFtZTogcmVzLm5hbWUsIGFib3V0OiByZXMuYWJvdXQgfSk7XG4gICAgICBwb3B1cEZvcm1Qcm9maWxlLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwRm9ybVByb2ZpbGUuZGVsZXRlU2F2aW5nKFwi0KHQvtGF0YDQsNC90LjRgtGMXCIpKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCh7IGF2YXRhciB9KSB7XG4gIHBvcHVwRm9ybUF2YXRhci5hZGRTYXZpbmcoKTtcblxuICBhcGlcbiAgICAuc2V0UHJvZmlsZUF2YXRhcih7IGF2YXRhcjogYXZhdGFyIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm9EYXRhLnNldFVzZXJBdmF0YXIoeyBhdmF0YXI6IHJlcy5hdmF0YXIgfSk7XG4gICAgICBwb3B1cEZvcm1BdmF0YXIuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBGb3JtQXZhdGFyLmRlbGV0ZVNhdmluZyhcItCh0L7RhdGA0LDQvdC40YLRjFwiKSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayh7IG5hbWUsIGxpbmsgfSkge1xuICBwb3B1cEltYWdlLm9wZW4oeyBkYXRhOiB7IG5hbWUsIGxpbmsgfSB9KTtcbn1cblxuLy8g0L/QvtC/0LDQvyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5idXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGN1cnJlbnREYXRhID0gdXNlckluZm9EYXRhLmdldFVzZXJJbmZvKCk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnREYXRhLm5hbWU7XG4gIGpvYklucHV0LnZhbHVlID0gY3VycmVudERhdGEuam9iO1xuXG4gIHBvcHVwRm9ybVByb2ZpbGUub3BlbigpO1xuXG4gIGZvcm1WYWxpZGF0b3JBZGROYW1lLmRlbGV0ZU1pc3Rha2VzKCk7XG59KTtcbi8vINC/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuYnV0dG9uQWRkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIGZvcm1BZGRDYXJkcy5yZXNldCgpO1xuICBmb3JtVmFsaWRhdG9yQWRkQ2FyZHMuZGVsZXRlTWlzdGFrZXMoKTtcbiAgcG9wdXBGb3JtQ2FyZC5vcGVuKCk7XG59KTtcbi8vINC/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcbmJ1dHRvbkVkaXRBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgZm9ybVZhbGlkYXRvckFkZEF2YXRhci5kZWxldGVNaXN0YWtlcygpO1xuICBwb3B1cEZvcm1BdmF0YXIub3BlbigpO1xufSk7XG5cblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcbiAgLnRoZW4oKFtyZXMsIGl0ZW1zXSkgPT4ge1xuICAgIHVzZXJJbmZvRGF0YS5zZXRVc2VySW5mbyhyZXMpO1xuICAgIHVzZXJJbmZvRGF0YS5zZXRVc2VyQXZhdGFyKHJlcyk7XG4gICAgY3VycmVudFVzZXJJZCA9IHJlcy5faWQ7XG4gICAgY2FyZHNMaXN0LnJlbmRlckl0ZW1zKGl0ZW1zLCByZXMuX2lkKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KTtcbiJdLCJuYW1lcyI6WyJidXR0b25FZGl0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnV0dG9uQWRkIiwiYnV0dG9uRWRpdEF2YXRhciIsInBvcHVwUHJvZmlsZSIsInBvcHVwUGxhY2UiLCJwb3B1cENhcmQiLCJwb3B1cEF2YXRhciIsInBvcHVwRGVsIiwicG9wdXBDbG9zZUJ1dHRvblByb2ZpbGUiLCJwb3B1cENsb3NlQnV0dG9uUGxhY2UiLCJwb3B1cENsb3NlQnV0dG9uSW1hZ2UiLCJwb3B1cENsb3NlQnV0dG9uQXZhdGFyIiwicG9wdXBDbG9zZUJ1dHRvbkNvbmZpcm0iLCJwb3B1cEltZyIsInBvcHVwVGl0bGUiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVJbmZvIiwicHJvZmlsZUF2YXRhciIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwicG9wdXBDb250YWluZXIiLCJmb3JtQWRkTmFtZSIsImZvcm1BZGRBdmF0YXIiLCJmb3JtQWRkQ2FyZHMiLCJjYXJkc0NvbnRhaW5lciIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsIkNhcmQiLCJkYXRhIiwic2VsZWN0b3JUZW1wbGF0ZSIsImhhbmRsZXIiLCJ0aGlzIiwiX2RhdGEiLCJfc2VsZWN0b3JUZW1wbGF0ZSIsIl9vbkltYWdlQ2xpY2siLCJpbWFnZUNsaWNrIiwiX29uUmVtb3ZlIiwicmVtb3ZlIiwiX29uTGlrZSIsImxpa2UiLCJfcmVtb3ZlTGlrZSIsInJlbW92ZUxpa2UiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9pbWFnZSIsIl90aXRsZSIsIl9saWtlQnV0dG9uIiwiX3JlbW92ZUJ1dHRvbiIsIl9saWtlQ291bnQiLCJfaXNMaWtlZCIsImxpa2VzIiwiZmluZCIsIml0ZW0iLCJfaWQiLCJjdXJyZW50VXNlcklkIiwic3JjIiwibGluayIsImFsdCIsIm5hbWUiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsIl9zZXRFdmVudExpc3RlbmVycyIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZXJMaWtlIiwib3duZXIiLCJfaGFuZGxlclJlbW92ZSIsImNsYXNzTGlzdCIsImFkZCIsIm5ld0xpa2VzIiwiY29uc29sZSIsImxvZyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJhcHBlbmQiLCJwcmVwZW5kIiwiaXRlbXMiLCJmb3JFYWNoIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2NvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9idXR0b25FbGVtZW50Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dEVsZW1lbnQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2hpZGVJbnB1dEVycm9yIiwic2V0QXR0cmlidXRlIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsInJlbW92ZUF0dHJpYnV0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlQnV0dG9uIiwiZW5hYmxlQnV0dG9uIiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImZvcm1TZWxlY3RvciIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImJ1dHRvbkNsb3NlIiwiX3BvcHVwIiwiX2Nsb3NlQnV0dG9uIiwiX3NhdmVCdXR0b24iLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiX2hhbmRsZU92ZXJsYXlDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzYXZlQnV0dG9uVGl0bGUiLCJQb3B1cFdpdGhJbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXQiLCJfaGFuZGxlU3VibWl0IiwiX2Zvcm0iLCJzZXRFdmVudExpc3RlbmVycyIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJqb2IiLCJhdmF0YXIiLCJfbmFtZSIsIl9pbmZvIiwiX2F2YXRhciIsImFib3V0IiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiY3VycmVudERhdGEiLCJyZW1vdmVDYWxsYmFjayIsIl9jdXJyZW50RGF0YSIsIl9yZW1vdmVDYWxsYmFjayIsImZvcm1WYWxpZGF0b3JBZGROYW1lIiwiZW5hYmxlVmFsaWRhdGlvbiIsImZvcm1WYWxpZGF0b3JBZGRDYXJkcyIsImZvcm1WYWxpZGF0b3JBZGRBdmF0YXIiLCJ1c2VySW5mb0RhdGEiLCJwb3B1cENvbmZpcm0iLCJhZGRTYXZpbmciLCJhcGkiLCJkZWxldGVDYXJkIiwidGhlbiIsImNhdGNoIiwiZXJyIiwiZmluYWxseSIsImRlbGV0ZVNhdmluZyIsInBvcHVwSW1hZ2UiLCJwb3B1cEZvcm1Qcm9maWxlIiwic2V0VXNlckluZm8iLCJyZXMiLCJwb3B1cEZvcm1DYXJkIiwic2V0TmV3Q2FyZCIsIm5ld25hbWUiLCJjYXJkc0xpc3QiLCJhZGROZXdJdGVtIiwiY3JlYXRlQ2FyZCIsInBvcHVwRm9ybUF2YXRhciIsInNldFByb2ZpbGVBdmF0YXIiLCJzZXRVc2VyQXZhdGFyIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlT3BlbkNvbmZpcm1Qb3B1cCIsImhhbmRsZUxpa2VDbGljayIsImhhbmRsZUxpa2VSZW1vdmUiLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtIiwibGlrZUNhbGxiYWNrIiwibGlrZUNhcmQiLCJ1cGRhdGVkRGF0YSIsImxpa2VSZW1vdmUiLCJvcGVuIiwiZ2V0VXNlckluZm8iLCJkZWxldGVNaXN0YWtlcyIsIlByb21pc2UiLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJyZW5kZXJJdGVtcyJdLCJzb3VyY2VSb290IjoiIn0=