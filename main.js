(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}var n,r;return n=t,(r=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),n.classList.add(this._config.errorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"disabledButton",value:function(){this._buttonElement.setAttribute("disabled",!0),this._buttonElement.classList.add(this._config.inactiveButtonClass)}},{key:"enableButton",value:function(){this._buttonElement.removeAttribute("disabled"),this._buttonElement.classList.remove(this._config.inactiveButtonClass)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disabledButton():this.enableButton()}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"resetValidation",value:function(){this._toggleButtonState()}},{key:"resetErrors",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._link=n,this._templateSelector=r,this._element=this._getTemplate(),this._handleCardClick=o}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".elements__item").cloneNode(!0)}},{key:"generateCard",value:function(){this._element=this._getTemplate();var e=this._element.querySelector(".elements__photo");return e.src=this._link,e.alt=this._name,this._element.querySelector(".elements__title").textContent=this._name,this._likeButton=this._element.querySelector(".elements__like"),this._setEventListeners(),this._element}},{key:"_deleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_getLike",value:function(){this._likeButton.classList.toggle("elements__like_active")}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".elements__delete").addEventListener("click",(function(){e._deleteCard()})),this._likeButton.addEventListener("click",(function(){e._getLike()})),this._element.querySelector(".elements__photo").addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),o={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderItems=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._renderItems.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this._overlayClose=this._overlayClose.bind(this),this._closeButton=this._popup.querySelector(".popup__close-button")}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_overlayClose",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("mousedown",this._overlayClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("mousedown",this._overlayClose)}},{key:"setEventListeners",value:function(){var e=this;this._closeButton.addEventListener("click",(function(){e.close()}))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=f(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function y(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e))._popupPhotoTitle=document.querySelector(".popup__caption"),t._popupPhotoImg=document.querySelector(".popup__photo"),t}return t=s,(n=[{key:"open",value:function(e,t){this._popupPhotoImg.src=t,this._popupPhotoImg.alt=e,this._popupPhotoTitle.textContent=e,p(h(s.prototype),"open",this).call(this)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(l);function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t){var n=t.selectorUserName,r=t.selectorUserJob;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selectorUserName=document.querySelector(n),this._selectorUserJob=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._selectorUserName.textContent,job:this._selectorUserJob.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;this._selectorUserName.textContent=t,this._selectorUserJob.textContent=n}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=E(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function S(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=i.call(this,e))._form=n._popup.querySelector(".popup__form"),n._formInputList=n._form.querySelectorAll(".popup__input"),n._handleFormSubmit=t,n}return t=s,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._formInputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())})),k(O(s.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._form.reset(),k(O(s.prototype),"close",this).call(this)}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(l),C=document.querySelector(".profile__edit-button"),L=document.querySelector(".popup__content"),P=L.querySelector(".popup__text_type_name"),q=L.querySelector(".popup__text_type_job"),I=document.querySelector(".popup__form_profile"),B=document.querySelector(".profile__add-button"),x=document.querySelector(".popup__form_place"),R=new t(o,I);R.enableValidation();var T=new t(o,x);function U(e,t){return new r(e,t,".item__template",A).generateCard()}T.enableValidation();var V=new s({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(e){V.addItem(U(e.name,e.link))}},".elements__items");V.renderItems();var N=new d(".popup_photo");function A(e,t){N.open(e,t)}N.setEventListeners();var D=new m({selectorUserName:".profile__title",selectorUserJob:".profile__subtitle"});C.addEventListener("click",(function(){var e;J.open(),R.enableButton(),R.resetErrors(),e=D.getUserInfo(),P.value=e.name,q.value=e.job}));var J=new j(".popup_edit-profile",(function(e){D.setUserInfo(e),J.close()}));J.setEventListeners(),B.addEventListener("click",(function(){x.reset(),F.open(),T.resetValidation(),T.resetErrors()}));var F=new j(".popup_place",(function(e){var t;t=U(e.name,e.link),V.addItem(t),F.close()}));F.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y0FZTkYsRUFBV0QsRUFBUUksY0FHekJwQixFQUFVTixNQUFRdUIsRUFBU3BGLEtBRzNCb0UsRUFBU1AsTUFBUXVCLEVBQVMvQixHQVozQixJQWlCRCxJQVNNZ0MsRUFBbUIsSUFBSS9CLEVBQWMsdUJBVFgsU0FBQ2tDLEdBRS9CTCxFQUFRTSxZQUFZRCxHQUdwQkgsRUFBaUI1QyxPQUNsQixJQUlENEMsRUFBaUJILG9CQUtqQlosRUFBYzFFLGlCQUFpQixTQUFTLFdBR3RDMkUsRUFBWVAsUUFHWjBCLEVBQVdULE9BR1hQLEVBQVNpQixrQkFHVGpCLEVBQVNZLGFBQ1YsSUFjRCxJQUFNSSxFQUFhLElBQUlwQyxFQUFjLGdCQVhyQyxTQUFpQ3NDLEdBM0ZqQyxJQUFpQjlELElBNkZLNkMsRUFBV2lCLEVBQUs1RixLQUFNNEYsRUFBSzNGLE1BM0YvQzRFLEVBQVNDLFFBQVFoRCxHQStGakI0RCxFQUFXakQsT0FDWixJQUtEaUQsRUFBV1IsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuaW5wdXRTZWxlY3RvcikpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQu9Cw0YHRgdCwINGBINC+0YjQuNCx0LrQvtC5XG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDRg9C00LDQu9C10L3QuNGPINC60LvQsNGB0YHQsCDRgSDQvtGI0LjQsdC60L7QuSBcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTsgLy8g0J3QsNGF0L7QtNC40Lwg0Y3Qu9C10LzQtdC90YIg0L7RiNC40LHQutC4XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnOyAvLyDQntGH0LjRgdGC0LjQvCDQvtGI0LjQsdC60YNcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0L/RgNC+0LLQtdGA0LrQuCDQstCw0LvQuNC00L3QvtGB0YLQuCDQv9C+0LvRj1xuICBfaXNWYWxpZChpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpOyAgIC8vINCV0YHQu9C4INC/0L7Qu9C1INC90LUg0L/RgNC+0YXQvtC00LjRgiDQstCw0LvQuNC00LDRhtC40Y4sINC/0L7QutCw0LbQtdC8INC+0YjQuNCx0LrRg1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpOyAvLyDQldGB0LvQuCDQv9GA0L7RhdC+0LTQuNGCLCDRgdC60YDQvtC10LxcbiAgICB9XG4gIH1cblxuICAvLyBcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICAvLyDQv9GA0L7RhdC+0LTQuNC8INC/0L4g0Y3RgtC+0LzRgyDQvNCw0YHRgdC40LLRgyDQvNC10YLQvtC00L7QvCBzb21lXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuXG4gICAgfSk7XG4gIH1cblxuICAvLyDQnNC10YLQvtC0INC90LUg0LDQutGC0LjQstC90L7QuSDQutC90L7Qv9C60LhcbiAgZGlzYWJsZWRCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfVxuXG4gIC8v0JzQtdGC0L7QtCDQsNC60YLQuNCy0L3QvtC5INC60L3QvtC/0LrQuFxuICBlbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfVxuXG4gIC8v0KTRg9C90LrRhtC40Y8g0L/RgNC40L3QuNC80LDQtdGCINC80LDRgdGB0LjQsiDQv9C+0LvQtdC5INCy0LLQvtC00LAg0Lgg0Y3Qu9C10LzQtdC90YIg0LrQvdC+0L/QutC4LCDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvtGC0L7RgNC+0Lkg0L3Rg9C20L3QviDQvNC10L3Rj9GC0YxcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlZEJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVuYWJsZUJ1dHRvbigpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8vINCS0YvQt9C+0LLQtdC8INGE0YPQvdC60YbQuNGOIGlzVmFsaWQg0L3QsCDQutCw0LbQtNGL0Lkg0LLQstC+0LQg0YHQuNC80LLQvtC70LBcbiAgLy8gZm9ybUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaXNWYWxpZCk7XG4gIC8vINCS0LfQsNC80LXQvSDQtdC5INC90LDQv9C40YjQtdC8INGB0LvRg9GI0LDRgtC10LvRjCDQvdCwINC60LDQttC00L7QtSDQv9C+0LvQtSDQstCy0L7QtNCwXG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIC8vINCe0LHQvtC50LTRkdC8INCy0YHQtSDRjdC70LXQvNC10L3RgtGLINC/0L7Qu9GD0YfQtdC90L3QvtC5INC60L7Qu9C70LXQutGG0LjQuFxuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9pc1ZhbGlkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICB9O1xuXG5cbiAgLy8g0JTQu9GPINC60LDQttC00L7QuSDRhNC+0YDQvNGLINCy0YvQt9C+0LLQtdC8INGE0YPQvdC60YbQuNGOIHNldEV2ZW50TGlzdGVuZXJzLCDQv9C10YDQtdC00LDQsiDQtdC5INGN0LvQtdC80LXQvdGCINGE0L7RgNC80YtcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9O1xuXG4gIC8vINCc0LXRgtC+0LQg0L/QtdGA0LXQutC70Y7Rh9C10L3QuNGPINC60L3QvtC/0LrQuCBcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0L7Rh9C40YnQtdC90LjRjyDRgdC/0LjRgdC60LAg0L7RiNC40LHQvtC6IFxuICByZXNldEVycm9ycygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpXG4gICAgfSlcbiAgfVxuXG59IiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBsaW5rLCB0ZW1wbGF0ZVNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2spIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgXG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXG4gICAgLmNvbnRlbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2l0ZW0nKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuXG4gIC8v0LzQtdGC0L7QtCDQstC+0LfQstGA0LDRidCw0Y7RidC40Lkg0LPQvtGC0L7QstGD0Y4g0YDQsNC30LzQtdGC0LrRgywg0YEg0YPRgdGC0LDQvdC+0LLQu9C10L3QvdGL0LzQuCDQvNC10YLQvtC00LDQvNC4INC4INGB0LvRg9GI0LDRgtC10LvRj9C80LhcbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIC8vINCX0LDQv9C40YjQtdC8INGA0LDQt9C80LXRgtC60YMg0LIg0L/RgNC40LLQsNGC0L3QvtC1INC/0L7Qu9C1IF9fZWxlbWVudC4gIFxuICAgIC8vINCi0LDQuiDRgyDQtNGA0YPQs9C40YUg0Y3Qu9C10LzQtdC90YLQvtCyINC/0L7Rj9Cy0LjRgtGB0Y8g0LTQvtGB0YLRg9C/INC6INC90LXQuS5cblxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuXG4gICAgY29uc3QgZWxlbWVudHNQaG90byA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19waG90bycpO1xuICAgIGVsZW1lbnRzUGhvdG8uc3JjID0gdGhpcy5fbGluaztcbiAgICBlbGVtZW50c1Bob3RvLmFsdCA9IHRoaXMuX25hbWU7XG5cbiAgICBjb25zdCB0aXRsZVBob3RvID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX3RpdGxlJyk7XG4gICAgdGl0bGVQaG90by50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG5cbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2xpa2UnKTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0YPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG4gIF9kZWxldGVDYXJkKCkge1xuICAgXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgXG4gIH1cblxuICAvLyDQnNC10YLQvtC0INC/0L7RgdGC0LDQvdC+0LLQutC4INC70LDQudC60LBcbiAgX2dldExpa2UoKSB7XG4gICAgXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRzX19saWtlX2FjdGl2ZScpO1xuICAgIFxuICB9XG5cbiAgLy80LiDQvtCx0YnQuNC5INGB0LvRg9GI0LDRgtC10LvRjCDRgdC+0LHRi9GC0LjQuSDQvdCwINCy0YHQtSDQstC+0LfQvNC+0LbQvdGL0LUg0LzQtdGC0L7QtNGLLCDQv9GA0LjQvNC10L3QuNC80YvQtSDQuiDQutCw0YDRgtC+0YfQutC1XG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcblxuICAgIC8vNC4xINGB0LvRg9GI0LDRgtC10LvRjCDQvdCwINGD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19kZWxldGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2RlbGV0ZUNhcmQoKTtcbiAgICB9KTtcblxuICAgIC8vIDQuMiDRgdC70YPRiNCw0YLQtdC70Ywg0L3QsCDQv9GA0L7RgdGC0LDQvdC+0LLQutGDINC70LDQudC60LAg0LrQsNGA0YLQvtGH0LrQuFxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9nZXRMaWtlKCk7XG4gICAgfSk7XG5cbiAgICAvLyA0LjMg0YHQu9GD0YjQsNGC0LXQu9GMINC60LvQuNC60LAg0L/QviDRhNC+0YLQviAo0LTQu9GPINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINGBINGE0L7RgtC+KSBcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fcGhvdG8nKS5hZGRFdmVudExpc3RlbmVyICgnY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluaylcbiAgICB9KTsgICBcbiAgfVxuXG59IiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwi0JDRgNGF0YvQt1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjFwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JjQstCw0L3QvtCy0L5cIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQmtCw0LzRh9Cw0YLQutCwXCIsXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JHQsNC50LrQsNC7XCIsXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZ1wiLFxuICB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IGNvbmZpZ1NlbGVjdG9yID0ge1xuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19idXR0b24nLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9kaXNhYmxlZCcsXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJ1xufTtcblxuLy8g0J7QsdGK0LXQutGCINGBINGB0LXQu9C10LrRgtC+0YDQsNC80Lgt0LrQu9GO0YfQsNC80LggOiDQuNC80Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC40L3RhNC+0YDQvNCw0YbQuNGPINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtVxuXG5leHBvcnQgY29uc3QgcHJvZmlsZVVzZXIgPSB7XG4gIHNlbGVjdG9yVXNlck5hbWU6ICcucHJvZmlsZV9fdGl0bGUnLFxuICBzZWxlY3RvclVzZXJKb2I6ICcucHJvZmlsZV9fc3VidGl0bGUnLFxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlckl0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX3JlbmRlckl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy/QnNC10YLQvtC0INC00L7QsdCw0LLQu9C10L3QuNGPINGN0LvQtdC80LXQvdGC0LAgLSDQv9GA0LjQvdC40LzQsNC10YIg0YHRhNC+0YDQvNC40YDQvtCy0LDQvdC90YPRjiDQutCw0YDRgtC+0YfQutGDINC4INC00L7QsdCw0LLQu9Cw0LXRgiDQtdC1INCyINC60L7QvdGC0LXQudC90LXRgFxuICBhZGRJdGVtKGNhcmRFbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xuICB9XG59IiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCkge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvclBvcHVwKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb3ZlcmxheUNsb3NlID0gdGhpcy5fb3ZlcmxheUNsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlLWJ1dHRvbicpO1xuICB9XG5cblxuICAvLyDQn9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQv9C+IEVzY1xuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8g0J/RgNC40LLQsNGC0L3Ri9C5INC80LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0L/QviDQntCy0LXRgNC70LXRjlxuICBfb3ZlcmxheUNsb3NlKGV2dCkge1xuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8g0JzQtdGC0L7QtCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsFxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb3ZlcmxheUNsb3NlKTtcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LBcbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vdmVybGF5Q2xvc2UpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSlcbiAgfVxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwKSB7XG4gICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5fcG9wdXBQaG90b1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19jYXB0aW9uJyk7XG4gICAgdGhpcy5fcG9wdXBQaG90b0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8nKTtcbiAgfVxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHRoaXMuX3BvcHVwUGhvdG9JbWcuc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3B1cFBob3RvSW1nLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fcG9wdXBQaG90b1RpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBzZWxlY3RvclVzZXJOYW1lLCBzZWxlY3RvclVzZXJKb2IgfSkge1xuICAgIHRoaXMuX3NlbGVjdG9yVXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yVXNlck5hbWUpO1xuICAgIHRoaXMuX3NlbGVjdG9yVXNlckpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JVc2VySm9iKTtcbiAgICBcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINGBINC00LDQvdC90YvQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy4g0JzQtdGC0L7QtCDQv9C+0LfQstC+0LvQuNGCINC/0L7QtNGB0YLQsNCy0LjRgtGMINC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0LIg0YTQvtGA0LzRgyDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuC5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgY29uc3QgdXNlckRhdGEgPSB7XG5cbiAgICBuYW1lOiB0aGlzLl9zZWxlY3RvclVzZXJOYW1lLnRleHRDb250ZW50LFxuICAgIGpvYjogdGhpcy5fc2VsZWN0b3JVc2VySm9iLnRleHRDb250ZW50XG4gICAgfTtcblxuICAgIHJldHVybiB1c2VyRGF0YTtcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0L/RgNC40L3QuNC80LDQtdGCINC90L7QstGL0LUg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LjRhSDQvdCwINGB0YLRgNCw0L3QuNGG0YMuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgam9iIH0pIHtcbiAgICB0aGlzLl9zZWxlY3RvclVzZXJOYW1lLnRleHRDb250ZW50ID0gbmFtZTsgXG5cbiAgICB0aGlzLl9zZWxlY3RvclVzZXJKb2IudGV4dENvbnRlbnQgPSBqb2I7XG4gIH1cblxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbiAgICB0aGlzLl9mb3JtSW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICBcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG5cbiAgICB0aGlzLl9mb3JtSW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlfSk7XG5cbiAgICBcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSlcblxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG5cbiAgICBzdXBlci5jbG9zZSgpO1xuXG4gIH1cblxufSIsImltcG9ydCAnLi4vcGFnZXMvaW5kZXguY3NzJztcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgeyBpbml0aWFsQ2FyZHMgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgY29uZmlnU2VsZWN0b3IgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgcHJvZmlsZVVzZXIgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5cbi8vINCf0LXRgNC10LzQtdC90L3Ri9C1INC00LvRjyDQuNC30LzQtdC90LXQvdC40Y8g0L/RgNC+0YTQuNC70Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG5jb25zdCBidXR0b25PcGVuUG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5jb25zdCBmb3JtRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbnRlbnQnKTtcbmNvbnN0IG5hbWVJbnB1dCA9IGZvcm1FZGl0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RleHRfdHlwZV9uYW1lJyk7XG5jb25zdCBqb2JJbnB1dCA9IGZvcm1FZGl0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RleHRfdHlwZV9qb2InKTtcbmNvbnN0IGZvcm1BZGRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX3Byb2ZpbGUnKTtcbi8vINCf0LXRgNC10LzQtdC90L3Ri9C1INC00LvRjyDQvdC+0LLQvtCz0L4g0LzQtdGB0YLQsCDQuCDRhNC+0YLQvlxuY29uc3QgYnV0dG9uQWRkT3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XG5jb25zdCBmb3JtQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9wbGFjZScpO1xuXG4vLyDQktCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LzRiyDQv9GA0L7RhNC40LvRj1xuY29uc3QgZm9ybVByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWdTZWxlY3RvciwgZm9ybUFkZFByb2ZpbGUpO1xuZm9ybVByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vLyDQktCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LzRiyDQutCw0YDRgtC+0YfQutC4XG5jb25zdCBmb3JtQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ1NlbGVjdG9yLCBmb3JtQWRkQ2FyZCk7XG5mb3JtQ2FyZC5lbmFibGVWYWxpZGF0aW9uKCk7XG5cblxuLy8g0KTRg9C90LrRhtC40Y8g0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4ICjQutCw0Log0L3QvtCy0L7QuSDQuNC3INGE0L7RgNC80YssINGC0LDQuiDQuCDQuNC3INC80LDRgdGB0LjQstCwKVxuZnVuY3Rpb24gY3JlYXRlQ2FyZChuYW1lLCBsaW5rKSB7XG5cbiAgLy8g0J7QsdGK0Y/QstC70Y/QtdC8INGB0L7Qt9C00LDQvdC40LUg0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4INC40Lcg0JrQu9Cw0YHRgdCwXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChuYW1lLCBsaW5rLCAnLml0ZW1fX3RlbXBsYXRlJywgaGFuZGxlQ2FyZENsaWNrKTtcblxuICAvLyDQl9Cw0LTQsNC10Lwg0Y3Qu9C10LzQtdC90YIgXCLQutCw0YDRgtCwXCIg0Lgg0LLRi9C30YvQstCw0LXQvCDQvNC10YLQvtC0INCz0LXQvdC10YDQsNGG0LjRjyDRgyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuXG4gIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdC8INGB0L7Qt9C00LDQvdGD0Y4g0LrQsNGA0YLQvtGH0LrRg1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59O1xuXG4vLyDQl9Cw0LPRgNGD0LbQsNC10Lwg0LrQsNGA0YLQvtGH0LrQuCDQvdCwINGB0YLRgNCw0L3QuNGG0YMg0LjQtyDQvNCw0YHRgdC40LLQsCDQuNGB0YXQvtC00L3Ri9GFINC00LDQvdC90YvRhSDRh9C10YDQtdC3INGB0L7Qt9C00LDQvdC40LUg0L3QvtCy0L7QuSDRgdC10LrRhtC40Lgg0LjQtyDQutC70LDRgdGB0LAg0KHQtdC60YbQuNGPXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcbiAgaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0ubmFtZSwgaXRlbS5saW5rKSk7XG4gIH0sXG59LCAnLmVsZW1lbnRzX19pdGVtcycpO1xuXG5cbi8vINCk0YPQvdC60YbQuNGPINC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuCDQvdCwINGB0YLRgNCw0L3QuNGG0YNcbmZ1bmN0aW9uIGFkZENhcmQoY2FyZEVsZW1lbnQpIHtcblxuICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcblxufVxuXG4vLyDQntGC0YDQuNGB0L7QstGL0LLQsNC10Lwg0LrQsNGA0YLQvtGH0LrQuCDQuNC3INC80LDRgdGB0LjQstCwXG5jYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xuXG4vLyDQpNCj0J3QmtCm0JjQntCd0JDQmyDQntCi0JrQoNCr0KLQmNCvINCf0J7Qn9CQ0J/QkCDQoSDQkdCe0JvQrNCo0J7QmSDQmtCQ0KDQotCY0J3QmtCe0Jkg0J/QoNCYINCa0JvQmNCa0JUg0J3QkCDQmtCQ0KDQotCe0KfQmtCjIFxuXG4vLyDQodC+0LfQtNCw0L3QuNC1INC/0L7Qv9Cw0L/QsCDQuNC3INC60LvQsNGB0YHQsCBQV0lcbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF9waG90bycpO1xucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQpNGD0L3QutGG0LjRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQv9C+INC60LvQuNC60YMg0L/QviDQutCw0YDRgtC+0YfQutC1ID0+IFBvcHVwV2l0aEltYWdlXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluaykge1xuXG4gIHBvcHVwSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcblxufTtcblxuLy8g0KTQo9Cd0JrQptCY0J7QndCQ0Jsg0KDQkNCR0J7QotCrINChINCf0KDQntCk0JjQm9CV0Jwg0J/QntCb0KzQl9Ce0JLQkNCi0JXQm9CvXG5cbi8vINCh0L7Qt9C00LDQtdC8INC90L7QstGL0Lkg0Y3Qu9C10LzQtdC90YIg0LrQu9Cw0YHRgdCwIFVzZXJJbmZvXG5jb25zdCBuZXdVc2VyID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVVc2VyKTtcblxuLy8g0KHQu9GD0YjQsNGC0LXQu9GMINC00LXQudGB0YLQstC40LkuINCf0L7Qv9Cw0L8g0L7RgtC60YDRi9GC0YwsINC30L3QsNGH0LXQvdC40Y8g0LIg0L/QvtC70LUg0YTQvtGA0LzRiyA9INC40YHRhdC+0LTQvdC+0LzRgyDQuNC80LXQvdC4INC4INGA0LDQsdC+0YLQtVxuYnV0dG9uT3BlblBvcHVwUHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAvLyDQntGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQn9GA0L7RhNC40LvRj1xuICBwb3B1cEVkaXRQcm9maWxlLm9wZW4oKTtcblxuICAvLyDQkNC60YLQuNCy0LDRhtC40Y8g0LrQvdC+0L/QutC4INCh0LDQsdC80LjRgtCwXG4gIGZvcm1Qcm9maWxlLmVuYWJsZUJ1dHRvbigpO1xuXG4gIC8vINCS0YvQt9C+0LIg0LzQtdGC0L7QtNCwINC+0YfQuNGJ0LXQvdC40Y8g0L/QvtC70Y8g0L7RiNC40LHQvtC6XG4gIGZvcm1Qcm9maWxlLnJlc2V0RXJyb3JzKCk7XG5cbiAgLy8g0J/RgNC40YHQstC+0LXQvdC40LUg0L/QtdGA0LLQuNGH0L3Ri9GFINC30L3QsNGH0LXQvdC40LkgKNGB0L4g0YHRgtGA0LDQvdC40YbRiykg0LIg0L/QvtC70Y8g0L7RgtC60YDRi9GC0L7QuSDRhNC+0YDQvNGLXG4gIGhhbmRsZVByb2ZpbGUoKTtcblxuXG59KTtcblxuLy8g0J/QtdGA0LLQuNGH0L3Ri9C1INC30L3QsNGH0LXQvdC40Y8g0LIg0L/RgNC+0YTQuNC70LUg0YTQvtGA0LzRi1xuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZSgpIHtcblxuICAvLyDQktGL0LfQvtCyINGDINC90L7QstC+0LPQviDRjdC70LXQvNC10L3RgtCwINC60LvQsNGB0YHQsCBVc2VySW5mbyAg0LzQtdGC0L7QtNCwINCy0L7Qt9Cy0YDQsNGC0LAg0L7QsdGK0LXQutGC0LAg0YEg0LTQsNC90L3Ri9C80Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gIGNvbnN0IHVzZXJEYXRhID0gbmV3VXNlci5nZXRVc2VySW5mbygpO1xuXG4gIC8vINCf0L7QtNGB0YLQsNCy0LvRj9C10Lwg0LjQvNGPXG4gIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLm5hbWU7XG5cbiAgLy8g0J/QvtC00YHRgtCw0LLQu9GP0LXQvCDRgNCw0LHQvtGC0YMgKNC40L3RhNC+0YDQvNCw0YbQuNGOINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjylcbiAgam9iSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5qb2I7XG59O1xuXG4vLyDQl9Cw0L/QvtC70L3QtdC90LjQtSDRhNC+0YDQvNGLINC/0L7Qv9Cw0L/QsCDQn9GA0L7RhNC40LvRjyDQvdC+0LLRi9C80Lgg0LTQsNC90L3Ri9C80LgsINCy0LLQvtC00LjQvNGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQvFxuLy8g0JrQvtC0INC/0L4g0L3QvtCy0L7QuSDRgtC10L7RgNC40LhcbmNvbnN0IGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0ID0gKGZvcm1EYXRhKSA9PiB7XG4gIC8vINCS0YvQt9C+0LIg0YMg0L3QvtCy0L7Qs9C+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQvNC10YLQvtC00LAg0L/QvtC00YHRgtCw0L3QvtCy0LrQuCDQt9C90LDRh9C10L3QuNC5INC00LDQvdC90YvRhSDQuNC3INGE0L7RgNC80LjRgNC+0LLQsNC90L3Ri9GFINC/0L7Qu9C10Lkg0YTQvtGA0LzRiyDQsiBmb3JtRGF0YVxuICBuZXdVc2VyLnNldFVzZXJJbmZvKGZvcm1EYXRhKTtcblxuICAvLyDQl9Cw0LrRgNGL0YLRjCDQv9C+0L/QsNC/INGE0L7RgNC80Ysg0J/RgNC+0YTQuNC70Y9cbiAgcG9wdXBFZGl0UHJvZmlsZS5jbG9zZSgpO1xufTtcblxuLy8g0KHQvtC30LTQsNC90LjQtSDQvdC+0LLQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsCDQn9C+0L/QsNC/LdCf0YDQvtGE0LjQu9GPINC40Lcg0LrQu9Cw0YHRgdCwIFBXRlxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfZWRpdC1wcm9maWxlJywgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpO1xucG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQpNCj0J3QmtCm0JjQntCd0JDQmyDQntCi0JrQoNCr0KLQmNCvINCf0J7Qn9CQ0J/QkCDQlNCb0K8g0JTQntCR0JDQktCb0JXQndCY0K8g0J3QntCS0J7QmSDQmtCQ0KDQotCe0KfQmtCYINCd0JAg0KHQotCg0JDQndCY0KbQo1xuXG4vLyDQodC70YPRiNCw0YLQtdC70Ywg0LTQtdC50YHRgtCy0LjQuTog0YHQsdGA0L7RgdC40YLRjCDRhNC+0YDQvNGDLCDQvtGC0LrRgNGL0YLRjCDQv9C+0L/QsNC/INCc0LXRgdGC0LAsINCx0LvQvtC60LjRgNC+0LLQutCwINC60L3QvtC/0LrQuFxuYnV0dG9uQWRkT3Blbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblxuICAvLyDQodCx0YDQvtGBINC/0L7Qu9C10Lkg0YTQvtGA0LzRiyDQn9C+0L/QsNC/0LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LXQulxuICBmb3JtQWRkQ2FyZC5yZXNldCgpO1xuXG4gIC8vINCe0YLQutGA0YvRgtC40LUg0J/QvtC/0LDQv9CwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbiAgcG9wdXBQbGFjZS5vcGVuKCk7XG5cbiAgLy8g0JLRi9C30L7QsiDQvNC10YLQvtC00LAg0L/QtdGA0LXQutC70Y7Rh9C10L3QuNGPINC60L3QvtC/0LrQuFxuICBmb3JtQ2FyZC5yZXNldFZhbGlkYXRpb24oKTtcblxuICAvLyDQktGL0LfQvtCyINC80LXRgtC+0LTQsCDQvtGH0LjRidC10L3QuNGPINC/0L7Qu9GPINC+0YjQuNCx0L7QulxuICBmb3JtQ2FyZC5yZXNldEVycm9ycygpO1xufSk7XG5cbi8vINCk0YPQvdC60YbQuNGPIC0g0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Lkg0L/QviDQtNC+0LHQsNCy0LvQtdC90LjRjiDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LggXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdChkYXRhKSB7XG5cbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGRhdGEubmFtZSwgZGF0YS5saW5rKTsgLy/Qv9GA0LjRgdCy0LDQuNCy0LDQtdC8INC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQtSDQt9C90LDRh9C10L3QuNGPINC40Lcg0L/QvtC70LXQuSDRhNC+0YDQvNGLXG5cbiAgYWRkQ2FyZChjYXJkRWxlbWVudCk7XG5cbiAgcG9wdXBQbGFjZS5jbG9zZSgpO1xufTtcblxuXG4vLyDQntCx0YrRj9Cy0LvQtdC90LjQtSDQvdC+0LLQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsCDQutC70LDRgdGB0LBcbmNvbnN0IHBvcHVwUGxhY2UgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3BsYWNlJywgaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXQpO1xucG9wdXBQbGFjZS5zZXRFdmVudExpc3RlbmVycygpOyJdLCJuYW1lcyI6WyJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJ0aGlzIiwiX2NvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9idXR0b25FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidGV4dENvbnRlbnQiLCJyZW1vdmUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJzb21lIiwic2V0QXR0cmlidXRlIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsInJlbW92ZUF0dHJpYnV0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZEJ1dHRvbiIsImVuYWJsZUJ1dHRvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX2lzVmFsaWQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJDYXJkIiwibmFtZSIsImxpbmsiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiX25hbWUiLCJfbGluayIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfaGFuZGxlQ2FyZENsaWNrIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZWxlbWVudHNQaG90byIsInNyYyIsImFsdCIsIl9saWtlQnV0dG9uIiwidG9nZ2xlIiwiX2RlbGV0ZUNhcmQiLCJfZ2V0TGlrZSIsImNvbmZpZ1NlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwiY2FyZEVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJzZWxlY3RvclBvcHVwIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIl9vdmVybGF5Q2xvc2UiLCJfY2xvc2VCdXR0b24iLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBQaG90b1RpdGxlIiwiX3BvcHVwUGhvdG9JbWciLCJVc2VySW5mbyIsInNlbGVjdG9yVXNlck5hbWUiLCJzZWxlY3RvclVzZXJKb2IiLCJfc2VsZWN0b3JVc2VyTmFtZSIsIl9zZWxlY3RvclVzZXJKb2IiLCJqb2IiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2Zvcm1JbnB1dExpc3QiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJidXR0b25PcGVuUG9wdXBQcm9maWxlIiwiZm9ybUVkaXRQcm9maWxlIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJmb3JtQWRkUHJvZmlsZSIsImJ1dHRvbkFkZE9wZW4iLCJmb3JtQWRkQ2FyZCIsImZvcm1Qcm9maWxlIiwiZW5hYmxlVmFsaWRhdGlvbiIsImZvcm1DYXJkIiwiY3JlYXRlQ2FyZCIsImdlbmVyYXRlQ2FyZCIsImNhcmRMaXN0IiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwicG9wdXBJbWFnZSIsIm9wZW4iLCJzZXRFdmVudExpc3RlbmVycyIsIm5ld1VzZXIiLCJ1c2VyRGF0YSIsInBvcHVwRWRpdFByb2ZpbGUiLCJyZXNldEVycm9ycyIsImdldFVzZXJJbmZvIiwiZm9ybURhdGEiLCJzZXRVc2VySW5mbyIsInBvcHVwUGxhY2UiLCJyZXNldFZhbGlkYXRpb24iLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==