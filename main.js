(()=>{"use strict";var e={};function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e);var n=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}var n,o;return n=e,(o=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),n.classList.add(this._config.errorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"disabledButton",value:function(){this._buttonElement.setAttribute("disabled",!0),this._buttonElement.classList.add(this._config.inactiveButtonClass)}},{key:"enableButton",value:function(){this._buttonElement.removeAttribute("disabled"),this._buttonElement.classList.remove(this._config.inactiveButtonClass)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disabledButton():this.enableButton()}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"resetValidation",value:function(){this._toggleButtonState()}},{key:"resetErrors",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&t(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=function(){function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._link=n,this._templateSelector=o,this._element=this._getTemplate(),this._handleCardClick=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".elements__item").cloneNode(!0)}},{key:"generateCard",value:function(){this._element=this._getTemplate();var e=this._element.querySelector(".elements__photo");return e.src=this._link,e.alt=this._name,this._element.querySelector(".elements__title").textContent=this._name,this._likeButton=this._element.querySelector(".elements__like"),this._setEventListeners(),this._element}},{key:"_deleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_getLike",value:function(){this._likeButton.classList.toggle("elements__like_active")}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".elements__delete").addEventListener("click",(function(){e._deleteCard()})),this._likeButton.addEventListener("click",(function(){e._getLike()})),this._element.querySelector(".elements__photo").addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),i={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(t,n){var o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this._overlayClose=this._overlayClose.bind(this),this._closeButton=this._popup.querySelector(".popup__close-button")}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_overlayClose",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("mousedown",this._overlayClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("mousedown",this._overlayClose)}},{key:"setEventListeners",value:function(){var e=this;this._closeButton.addEventListener("click",(function(){e.close()}))}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=_(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},p.apply(this,arguments)}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function h(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(o);if(r){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupPhotoTitle=document.querySelector(".popup__caption"),t._popupPhotoImg=document.querySelector(".popup__photo"),t}return t=u,(n=[{key:"open",value:function(e,t){this._popupPhotoImg.src=t,this._popupPhotoImg.alt=e,this._popupPhotoTitle.textContent=e,p(v(u.prototype),"open",this).call(this)}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c);function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var b=function(){function e(t){var n=t.selectorUserName,o=t.selectorUserJob,r=t.selectorUserAvatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selectorUserName=document.querySelector(n),this._selectorUserJob=document.querySelector(o),this._selectorUserAvatar=document.querySelector(r)}var t,n;return t=e,n=[{key:"getUserInfo",value:function(){return{name:this._selectorUserName.textContent,job:this._selectorUserJob.textContent}}},{key:"getUserAvatar",value:function(){return{avatar:this._selectorUserAvatar.src}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;this._selectorUserName.textContent=t,this._selectorUserJob.textContent=n}},{key:"setUserAvatar",value:function(e){var t=e.avatar;this._selectorUserAvatar.src=t}}],n&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=k(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},w.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function O(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(o);if(r){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._form=n._popup.querySelector(".popup__form"),n._formInputList=n._form.querySelectorAll(".popup__input"),console.log(n._form),n._handleFormSubmit=t,n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._formInputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())})),w(j(u.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._form.reset(),w(j(u.prototype),"close",this).call(this)}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c),L=new e.Api(configApi);L.getAllCards().then((function(e){J.renderItems(e)})).catch((function(e){return console.log("Ошибка:",e)})),L.getUserInfo().then((function(e){return z.setUserInfo({name:e.name,job:e.about})})).catch((function(e){return console.log("Ошибка:",e)}));var P=document.querySelector(".profile__edit-button"),q=document.querySelector(".popup__content"),I=q.querySelector(".popup__text_type_name"),U=q.querySelector(".popup__text_type_job"),B=document.querySelector(".popup__form_profile"),T=document.querySelector(".profile__add-button"),R=document.querySelector(".popup__form_place"),A=document.querySelector(".profile__photo"),x=document.querySelector(".popup__form_avatar"),V=(document.querySelector(".elements__delete"),new n(i,B));V.enableValidation();var N=new n(i,R);function D(e,t){return new r(e,t,".item__template",F).generateCard()}N.enableValidation(),new n(i,x).enableValidation();var J=new a({renderer:function(e){J.addItem(D(e.name,e.link))}},".elements__items"),M=new d(".popup_photo");function F(e,t){M.open(e,t)}M.setEventListeners();var z=new b({selectorUserName:".profile__title",selectorUserJob:".profile__subtitle"});P.addEventListener("click",(function(){var e;G.open(),V.enableButton(),V.resetErrors(),e=z.getUserInfo(),I.value=e.name,U.value=e.job})),L.getUserAvatar().then((function(e){return z.setUserAvatar({avatar:e.avatar})})).catch((function(e){return console.log("Ошибка:",e)}));var G=new C(".popup_edit-profile",(function(e){var t=e.name,n=e.job;L.updateUserInfo({name:t,about:n}).then((function(e){z.setUserInfo({name:e.name,job:e.about}),G.close()})).catch((function(e){return console.log("Ошибка:",e)}))}));G.setEventListeners(),T.addEventListener("click",(function(){R.reset(),H.open(),N.resetValidation(),N.resetErrors()}));var H=new C(".popup_place",(function(e){L.createNewCard({name:e.name,link:e.link}).then((function(e){J.addItem(D(e.name,e.link)),H.close()})).then((function(e){console.log("Новая карточка",e)})).catch((function(e){return console.log("Ошибка",e)}))}));H.setEventListeners();var K=new C(".popup_avatar",(function(e){var t=e.avatar;L.updateUseravatar({avatar:t}).then((function(e){z.setUserAvatar({avatar:e.avatar}),K.close()})).catch((function(e){return console.log("Ошибка",e)}))}));K.setEventListeners(),A.addEventListener("click",(function(){console.log("Клик"),K.open()})),Promise.all([]),new Popup(".popup_delete-card")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c3RvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutC70LDRgdGB0LAg0YEg0L7RiNC40LHQutC+0LlcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gIH1cblxuICAvLyDQnNC10YLQvtC0INGD0LTQsNC70LXQvdC40Y8g0LrQu9Cw0YHRgdCwINGBINC+0YjQuNCx0LrQvtC5IFxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApOyAvLyDQndCw0YXQvtC00LjQvCDRjdC70LXQvNC10L3RgiDQvtGI0LjQsdC60LhcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7IC8vINCe0YfQuNGB0YLQuNC8INC+0YjQuNCx0LrRg1xuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDQv9GA0L7QstC10YDQutC4INCy0LDQu9C40LTQvdC+0YHRgtC4INC/0L7Qu9GPXG4gIF9pc1ZhbGlkKGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7ICAgLy8g0JXRgdC70Lgg0L/QvtC70LUg0L3QtSDQv9GA0L7RhdC+0LTQuNGCINCy0LDQu9C40LTQsNGG0LjRjiwg0L/QvtC60LDQttC10Lwg0L7RiNC40LHQutGDXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7IC8vINCV0YHQu9C4INC/0YDQvtGF0L7QtNC40YIsINGB0LrRgNC+0LXQvFxuICAgIH1cbiAgfVxuXG4gIC8vIFxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIC8vINC/0YDQvtGF0L7QtNC40Lwg0L/QviDRjdGC0L7QvNGDINC80LDRgdGB0LjQstGDINC80LXRgtC+0LTQvtC8IHNvbWVcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG5cbiAgICB9KTtcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0L3QtSDQsNC60YLQuNCy0L3QvtC5INC60L3QvtC/0LrQuFxuICBkaXNhYmxlZEJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICB9XG5cbiAgLy/QnNC10YLQvtC0INCw0LrRgtC40LLQvdC+0Lkg0LrQvdC+0L/QutC4XG4gIGVuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICB9XG5cbiAgLy/QpNGD0L3QutGG0LjRjyDQv9GA0LjQvdC40LzQsNC10YIg0LzQsNGB0YHQuNCyINC/0L7Qu9C10Lkg0LLQstC+0LTQsCDQuCDRjdC70LXQvNC10L3RgiDQutC90L7Qv9C60LgsINGB0L7RgdGC0L7Rj9C90LjQtSDQutC+0YLQvtGA0L7QuSDQvdGD0LbQvdC+INC80LXQvdGP0YLRjFxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVkQnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9XG5cblxuICAvLy8g0JLRi9C30L7QstC10Lwg0YTRg9C90LrRhtC40Y4gaXNWYWxpZCDQvdCwINC60LDQttC00YvQuSDQstCy0L7QtCDRgdC40LzQstC+0LvQsFxuICAvLyBmb3JtSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBpc1ZhbGlkKTtcbiAgLy8g0JLQt9Cw0LzQtdC9INC10Lkg0L3QsNC/0LjRiNC10Lwg0YHQu9GD0YjQsNGC0LXQu9GMINC90LAg0LrQsNC20LTQvtC1INC/0L7Qu9C1INCy0LLQvtC00LBcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG5cbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgLy8g0J7QsdC+0LnQtNGR0Lwg0LLRgdC1INGN0LvQtdC80LXQvdGC0Ysg0L/QvtC70YPRh9C10L3QvdC+0Lkg0LrQvtC70LvQtdC60YbQuNC4XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2lzVmFsaWQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIH07XG5cblxuICAvLyDQlNC70Y8g0LrQsNC20LTQvtC5INGE0L7RgNC80Ysg0LLRi9C30L7QstC10Lwg0YTRg9C90LrRhtC40Y4gc2V0RXZlbnRMaXN0ZW5lcnMsINC/0LXRgNC10LTQsNCyINC10Lkg0Y3Qu9C10LzQtdC90YIg0YTQvtGA0LzRi1xuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG5cbiAgLy8g0JzQtdGC0L7QtCDQv9C10YDQtdC60LvRjtGH0LXQvdC40Y8g0LrQvdC+0L/QutC4IFxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDQvtGH0LjRidC10L3QuNGPINGB0L/QuNGB0LrQsCDQvtGI0LjQsdC+0LogXG4gIHJlc2V0RXJyb3JzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudClcbiAgICB9KVxuICB9XG5cbn0iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGxpbmssIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaykge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICBcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcbiAgICAuY29udGVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19faXRlbScpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG5cbiAgLy/QvNC10YLQvtC0INCy0L7Qt9Cy0YDQsNGJ0LDRjtGJ0LjQuSDQs9C+0YLQvtCy0YPRjiDRgNCw0LfQvNC10YLQutGDLCDRgSDRg9GB0YLQsNC90L7QstC70LXQvdC90YvQvNC4INC80LXRgtC+0LTQsNC80Lgg0Lgg0YHQu9GD0YjQsNGC0LXQu9GP0LzQuFxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgLy8g0JfQsNC/0LjRiNC10Lwg0YDQsNC30LzQtdGC0LrRgyDQsiDQv9GA0LjQstCw0YLQvdC+0LUg0L/QvtC70LUgX19lbGVtZW50LiAgXG4gICAgLy8g0KLQsNC6INGDINC00YDRg9Cz0LjRhSDRjdC70LXQvNC10L3RgtC+0LIg0L/QvtGP0LLQuNGC0YHRjyDQtNC+0YHRgtGD0L8g0Log0L3QtdC5LlxuXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG5cbiAgICBjb25zdCBlbGVtZW50c1Bob3RvID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX3Bob3RvJyk7XG4gICAgZWxlbWVudHNQaG90by5zcmMgPSB0aGlzLl9saW5rO1xuICAgIGVsZW1lbnRzUGhvdG8uYWx0ID0gdGhpcy5fbmFtZTtcblxuICAgIGNvbnN0IHRpdGxlUGhvdG8gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fdGl0bGUnKTtcbiAgICB0aXRsZVBob3RvLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fbGlrZScpO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDRg9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LhcbiAgX2RlbGV0ZUNhcmQoKSB7XG4gICBcbiAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICBcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0L/QvtGB0YLQsNC90L7QstC60Lgg0LvQsNC50LrQsFxuICBfZ2V0TGlrZSgpIHtcbiAgICBcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudHNfX2xpa2VfYWN0aXZlJyk7XG4gICAgXG4gIH1cblxuICAvLzQuINC+0LHRidC40Lkg0YHQu9GD0YjQsNGC0LXQu9GMINGB0L7QsdGL0YLQuNC5INC90LAg0LLRgdC1INCy0L7Qt9C80L7QttC90YvQtSDQvNC10YLQvtC00YssINC/0YDQuNC80LXQvdC40LzRi9C1INC6INC60LDRgNGC0L7Rh9C60LVcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuXG4gICAgLy80LjEg0YHQu9GD0YjQsNGC0LXQu9GMINC90LAg0YPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2RlbGV0ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5fZGVsZXRlQ2FyZCgpO1xuICAgIH0pO1xuXG4gICAgLy8gNC4yINGB0LvRg9GI0LDRgtC10LvRjCDQvdCwINC/0YDQvtGB0YLQsNC90L7QstC60YMg0LvQsNC50LrQsCDQutCw0YDRgtC+0YfQutC4XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2dldExpa2UoKTtcbiAgICB9KTtcblxuICAgIC8vIDQuMyDRgdC70YPRiNCw0YLQtdC70Ywg0LrQu9C40LrQsCDQv9C+INGE0L7RgtC+ICjQtNC70Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0YEg0YTQvtGC0L4pIFxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19waG90bycpLmFkZEV2ZW50TGlzdGVuZXIgKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKVxuICAgIH0pOyAgIFxuICB9XG5cblxuXG4gIFxufSIsIi8vIGV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcItCQ0YDRhdGL0LdcIixcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnXCIsXG4vLyAgIH0sXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcItCn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YxcIixcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnXCIsXG4vLyAgIH0sXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcItCY0LLQsNC90L7QstC+XCIsXG4vLyAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGdcIixcbi8vICAgfSxcbi8vICAge1xuLy8gICAgIG5hbWU6IFwi0JrQsNC80YfQsNGC0LrQsFwiLFxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGdcIixcbi8vICAgfSxcbi8vICAge1xuLy8gICAgIG5hbWU6IFwi0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L1cIixcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnXCIsXG4vLyAgIH0sXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcItCR0LDQudC60LDQu1wiLFxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGdcIixcbi8vICAgfSxcbi8vIF07XG5cbmV4cG9ydCBjb25zdCBjb25maWdTZWxlY3RvciA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b25fZGlzYWJsZWQnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9fZXJyb3JfdmlzaWJsZSdcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9maWxlVXNlciA9IHtcbiAgc2VsZWN0b3JVc2VyTmFtZTogJy5wcm9maWxlX190aXRsZScsXG4gIHNlbGVjdG9yVXNlckpvYjogJy5wcm9maWxlX19zdWJ0aXRsZScsXG59XG5cbmV4cG9ydCBjb25zdCBjb25maWdBcGkgPSB7XG4gIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQ4XCIsXG4gIGhlYWRlcnM6IHtcbiAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICBcImF1dGhvcml6YXRpb25cIjogXCIyNDE2ZmM4Mi1iZmJjLTRiNzgtYTRmZC00NDJkYWNlNjRmN2VcIixcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgLy90aGlzLl9yZW5kZXJJdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIC8qdGhpcy5fcmVuZGVySXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7Ki9cbiAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSlcbiAgICB9KTtcbiAgfVxuXG4gIC8v0JzQtdGC0L7QtCDQtNC+0LHQsNCy0LvQtdC90LjRjyDRjdC70LXQvNC10L3RgtCwIC0g0L/RgNC40L3QuNC80LDQtdGCINGB0YTQvtGA0LzQuNGA0L7QstCw0L3QvdGD0Y4g0LrQsNGA0YLQvtGH0LrRgyDQuCDQtNC+0LHQsNCy0LvQsNC10YIg0LXQtSDQsiDQutC+0L3RgtC10LnQvdC10YBcbiAgYWRkSXRlbShjYXJkRWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmRFbGVtZW50KTtcbiAgfVxufSIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yUG9wdXApIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX292ZXJsYXlDbG9zZSA9IHRoaXMuX292ZXJsYXlDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1idXR0b24nKTtcbiAgfVxuXG5cbiAgLy8g0J/RgNC40LLQsNGC0L3Ri9C5INC80LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0L/QviBFc2NcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vINCf0YDQuNCy0LDRgtC90YvQuSDQvNC10YLQvtC0INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINC/0L4g0J7QstC10YDQu9C10Y5cbiAgX292ZXJsYXlDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vINCc0LXRgtC+0LQg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LBcbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX292ZXJsYXlDbG9zZSk7XG4gIH1cblxuICAvLyDQnNC10YLQvtC0INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb3ZlcmxheUNsb3NlKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pXG4gIH1cbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCkge1xuICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xuICAgIHRoaXMuX3BvcHVwUGhvdG9UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2FwdGlvbicpO1xuICAgIHRoaXMuX3BvcHVwUGhvdG9JbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvJyk7XG4gIH1cblxuICBvcGVuKG5hbWUsIGxpbmspIHtcbiAgICB0aGlzLl9wb3B1cFBob3RvSW1nLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fcG9wdXBQaG90b0ltZy5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX3BvcHVwUGhvdG9UaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgc2VsZWN0b3JVc2VyTmFtZSwgc2VsZWN0b3JVc2VySm9iLCBzZWxlY3RvclVzZXJBdmF0YXIgfSkge1xuICAgIHRoaXMuX3NlbGVjdG9yVXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yVXNlck5hbWUpO1xuICAgIHRoaXMuX3NlbGVjdG9yVXNlckpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JVc2VySm9iKTtcbiAgICB0aGlzLl9zZWxlY3RvclVzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yVXNlckF2YXRhcik7XG5cbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINGBINC00LDQvdC90YvQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy4g0JzQtdGC0L7QtCDQv9C+0LfQstC+0LvQuNGCINC/0L7QtNGB0YLQsNCy0LjRgtGMINC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0LIg0YTQvtGA0LzRgyDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuC5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgY29uc3QgdXNlckRhdGEgPSB7XG5cbiAgICAgIG5hbWU6IHRoaXMuX3NlbGVjdG9yVXNlck5hbWUudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX3NlbGVjdG9yVXNlckpvYi50ZXh0Q29udGVudCxcbiAgICAgIC8vYXZhdGFyOiB0aGlzLl9zZWxlY3RvclVzZXJBdmF0YXIuc3JjXG5cbiAgICB9O1xuXG4gICAgcmV0dXJuIHVzZXJEYXRhO1xuICB9XG5cbiAgZ2V0VXNlckF2YXRhcigpIHtcblxuICAgIGNvbnN0IHVzZXJBdmF0YXIgPSB7XG4gICAgICBhdmF0YXI6IHRoaXMuX3NlbGVjdG9yVXNlckF2YXRhci5zcmNcbiAgICB9XG5cbiAgICByZXR1cm4gdXNlckF2YXRhcjtcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0L/RgNC40L3QuNC80LDQtdGCINC90L7QstGL0LUg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LjRhSDQvdCwINGB0YLRgNCw0L3QuNGG0YMuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgam9iIH0pIHtcbiAgICB0aGlzLl9zZWxlY3RvclVzZXJOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9zZWxlY3RvclVzZXJKb2IudGV4dENvbnRlbnQgPSBqb2I7XG5cbiAgfVxuXG4gIHNldFVzZXJBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHRoaXMuX3NlbGVjdG9yVXNlckF2YXRhci5zcmMgPSBhdmF0YXI7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuX2Zvcm1JbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcbiAgICBjb25zb2xlLmxvZyAodGhpcy5fZm9ybSlcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgIFxuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcblxuICAgIHRoaXMuX2Zvcm1JbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWV9KTtcblxuICAgIFxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG5cbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KVxuXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcblxuICAgIHN1cGVyLmNsb3NlKCk7XG5cbiAgfVxuXG59IiwiaW1wb3J0ICcuLi9wYWdlcy9pbmRleC5jc3MnO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCB7IGluaXRpYWxDYXJkcyxcbiAgICAgICAgY29uZmlnU2VsZWN0b3IsXG4gICAgICAgIHByb2ZpbGVVc2VyIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IHsgQXBpIH0gZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuaW1wb3J0IHsgUG9wdXBXaXRoQ29uZmlybWF0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24nO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKGNvbmZpZ0FwaSk7XG5cbmFwaS5nZXRBbGxDYXJkcygpXG4gIC50aGVuKChpdGVtcykgPT4ge1xuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGl0ZW1zKTtcbiAgfSlcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwOicsIGVycikpXG5cbi8vINCX0LDQs9GA0YPQt9C60LAg0LTQsNC90L3Ri9GFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDRgSDRgdC10YDQstC10YDQsCBcbmFwaS5nZXRVc2VySW5mbygpLnRoZW4oZGF0YSA9PiBuZXdVc2VyLnNldFVzZXJJbmZvKHtcbiAgbmFtZTogZGF0YS5uYW1lLFxuICBqb2I6IGRhdGEuYWJvdXQsXG59KSlcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwOicsIGVycikpXG5cbi8vINCf0LXRgNC10LzQtdC90L3Ri9C1INC00LvRjyDQuNC30LzQtdC90LXQvdC40Y8g0L/RgNC+0YTQuNC70Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG5jb25zdCBidXR0b25PcGVuUG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5jb25zdCBmb3JtRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbnRlbnQnKTtcbmNvbnN0IG5hbWVJbnB1dCA9IGZvcm1FZGl0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RleHRfdHlwZV9uYW1lJyk7XG5jb25zdCBqb2JJbnB1dCA9IGZvcm1FZGl0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RleHRfdHlwZV9qb2InKTtcbmNvbnN0IGZvcm1BZGRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX3Byb2ZpbGUnKTtcbi8vINCf0LXRgNC10LzQtdC90L3Ri9C1INC00LvRjyDQvdC+0LLQvtCz0L4g0LzQtdGB0YLQsCDQuCDRhNC+0YLQvlxuY29uc3QgYnV0dG9uQWRkT3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XG5jb25zdCBmb3JtQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9wbGFjZScpO1xuXG5jb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fcGhvdG8nKTtcbmNvbnN0IGZvcm1BZGRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fYXZhdGFyJyk7XG5cbmNvbnN0IGJ1dHRvbkRlbGV0ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2RlbGV0ZScpO1xuXG5jb25zdCBmb3JtUHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ1NlbGVjdG9yLCBmb3JtQWRkUHJvZmlsZSk7XG5mb3JtUHJvZmlsZS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vINCS0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvNGLINC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IGZvcm1DYXJkID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnU2VsZWN0b3IsIGZvcm1BZGRDYXJkKTtcbmZvcm1DYXJkLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy8g0JLQsNC70LjQtNCw0YbQuNGPINGE0L7RgNC80Ysg0YHQvNC10L3RiyDQsNCy0LDRgtCw0YDQsFxuY29uc3QgZm9ybUF2YXRhciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ1NlbGVjdG9yLCBmb3JtQWRkQXZhdGFyKTtcbmZvcm1BdmF0YXIuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vLyDQpNGD0L3QutGG0LjRjyDRgdC+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60LggKNC60LDQuiDQvdC+0LLQvtC5INC40Lcg0YTQvtGA0LzRiywg0YLQsNC6INC4INC40Lcg0LzQsNGB0YHQuNCy0LApXG5mdW5jdGlvbiBjcmVhdGVDYXJkKG5hbWUsIGxpbmspIHtcblxuICAvLyDQntCx0YrRj9Cy0LvRj9C10Lwg0YHQvtC30LTQsNC90LjQtSDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lgg0LjQtyDQmtC70LDRgdGB0LBcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKG5hbWUsIGxpbmssICcuaXRlbV9fdGVtcGxhdGUnLCBoYW5kbGVDYXJkQ2xpY2spO1xuXG4gIC8vINCX0LDQtNCw0LXQvCDRjdC70LXQvNC10L3RgiBcItC60LDRgNGC0LBcIiDQuCDQstGL0LfRi9Cy0LDQtdC8INC80LXRgtC+0LQg0LPQtdC90LXRgNCw0YbQuNGPINGDINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG5cbiAgLy8g0JLQvtC30LLRgNCw0YnQsNC10Lwg0YHQvtC30LTQsNC90YPRjiDQutCw0YDRgtC+0YfQutGDXG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn07XG5cblxuLy8g0JfQsNCz0YDRg9C20LDQtdC8INC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdGC0YDQsNC90LjRhtGDINC40Lcg0LzQsNGB0YHQuNCy0LAg0LjRgdGF0L7QtNC90YvRhSDQtNCw0L3QvdGL0YUg0YfQtdGA0LXQtyDRgdC+0LfQtNCw0L3QuNC1INC90L7QstC+0Lkg0YHQtdC60YbQuNC4INC40Lcg0LrQu9Cw0YHRgdCwINCh0LXQutGG0LjRj1xuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbih7XG4gIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtLm5hbWUsIGl0ZW0ubGluaykpO1xuICB9LFxufSwgJy5lbGVtZW50c19faXRlbXMnKTtcblxuXG4vLyDQpNGD0L3QutGG0LjRjyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdGC0YDQsNC90LjRhtGDXG5mdW5jdGlvbiBhZGRDYXJkKGNhcmRFbGVtZW50KSB7XG5cbiAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XG5cbn1cblxuXG4vLyDQpNCj0J3QmtCm0JjQntCd0JDQmyDQntCi0JrQoNCr0KLQmNCvINCf0J7Qn9CQ0J/QkCDQoSDQkdCe0JvQrNCo0J7QmSDQmtCQ0KDQotCY0J3QmtCe0Jkg0J/QoNCYINCa0JvQmNCa0JUg0J3QkCDQmtCQ0KDQotCe0KfQmtCjIFxuXG4vLyDQodC+0LfQtNCw0L3QuNC1INC/0L7Qv9Cw0L/QsCDQuNC3INC60LvQsNGB0YHQsCBQV0lcbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF9waG90bycpO1xucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQpNGD0L3QutGG0LjRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQv9C+INC60LvQuNC60YMg0L/QviDQutCw0YDRgtC+0YfQutC1ID0+IFBvcHVwV2l0aEltYWdlXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluaykge1xuXG4gIHBvcHVwSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcblxufTtcblxuLy8g0KTQo9Cd0JrQptCY0J7QndCQ0Jsg0KDQkNCR0J7QotCrINChINCf0KDQntCk0JjQm9CV0Jwg0J/QntCb0KzQl9Ce0JLQkNCi0JXQm9CvXG5cbi8vINCh0L7Qt9C00LDQtdC8INC90L7QstGL0Lkg0Y3Qu9C10LzQtdC90YIg0LrQu9Cw0YHRgdCwIFVzZXJJbmZvXG5jb25zdCBuZXdVc2VyID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVVc2VyKTtcblxuLy8g0KHQu9GD0YjQsNGC0LXQu9GMINC00LXQudGB0YLQstC40LkuINCf0L7Qv9Cw0L8g0L7RgtC60YDRi9GC0YwsINC30L3QsNGH0LXQvdC40Y8g0LIg0L/QvtC70LUg0YTQvtGA0LzRiyA9INC40YHRhdC+0LTQvdC+0LzRgyDQuNC80LXQvdC4INC4INGA0LDQsdC+0YLQtVxuYnV0dG9uT3BlblBvcHVwUHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAvLyDQntGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQn9GA0L7RhNC40LvRj1xuICBwb3B1cEVkaXRQcm9maWxlLm9wZW4oKTtcblxuICAvLyDQkNC60YLQuNCy0LDRhtC40Y8g0LrQvdC+0L/QutC4INCh0LDQsdC80LjRgtCwXG4gIGZvcm1Qcm9maWxlLmVuYWJsZUJ1dHRvbigpO1xuXG4gIC8vINCS0YvQt9C+0LIg0LzQtdGC0L7QtNCwINC+0YfQuNGJ0LXQvdC40Y8g0L/QvtC70Y8g0L7RiNC40LHQvtC6XG4gIGZvcm1Qcm9maWxlLnJlc2V0RXJyb3JzKCk7XG5cbiAgLy8g0J/RgNC40YHQstC+0LXQvdC40LUg0L/QtdGA0LLQuNGH0L3Ri9GFINC30L3QsNGH0LXQvdC40LkgKNGB0L4g0YHRgtGA0LDQvdC40YbRiykg0LIg0L/QvtC70Y8g0L7RgtC60YDRi9GC0L7QuSDRhNC+0YDQvNGLXG4gIGhhbmRsZVByb2ZpbGUoKTtcblxufSk7XG5cbi8vINCf0LXRgNCy0LjRh9C90YvQtSDQt9C90LDRh9C10L3QuNGPINCyINC/0YDQvtGE0LjQu9C1INGE0L7RgNC80YtcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGUoKSB7XG5cbiAgLy8g0JLRi9C30L7QsiDRgyDQvdC+0LLQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsCDQutC70LDRgdGB0LAgVXNlckluZm8gINC80LXRgtC+0LTQsCDQstC+0LfQstGA0LDRgtCwINC+0LHRitC10LrRgtCwINGBINC00LDQvdC90YvQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICBjb25zdCB1c2VyRGF0YSA9IG5ld1VzZXIuZ2V0VXNlckluZm8oKTtcblxuICAvLyDQn9C+0LTRgdGC0LDQstC70Y/QtdC8INC40LzRj1xuICBuYW1lSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5uYW1lO1xuXG4gIC8vINCf0L7QtNGB0YLQsNCy0LvRj9C10Lwg0YDQsNCx0L7RgtGDICjQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8pXG4gIGpvYklucHV0LnZhbHVlID0gdXNlckRhdGEuam9iO1xuXG5cbn07XG5cbi8vINCX0LDQv9C+0LvQvdC10L3QuNC1INGE0L7RgNC80Ysg0L/QvtC/0LDQv9CwINCf0YDQvtGE0LjQu9GPINC90L7QstGL0LzQuCDQtNCw0L3QvdGL0LzQuCwg0LLQstC+0LTQuNC80YvQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC8XG4vLyDQmtC+0LQg0L/QviDQvdC+0LLQvtC5INGC0LXQvtGA0LjQuFxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQoeyBuYW1lLCBqb2IgfSkge1xuICAvLyDQktGL0LfQvtCyINGDINC90L7QstC+0LPQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0LzQtdGC0L7QtNCwINC/0L7QtNGB0YLQsNC90L7QstC60Lgg0LfQvdCw0YfQtdC90LjQuSDQtNCw0L3QvdGL0YUg0LjQtyDRhNC+0YDQvNC40YDQvtCy0LDQvdC90YvRhSDQv9C+0LvQtdC5INGE0L7RgNC80Ysg0LIgZm9ybURhdGFcbiAgYXBpLnVwZGF0ZVVzZXJJbmZvKHsgbmFtZTogbmFtZSwgYWJvdXQ6IGpvYiB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBuZXdVc2VyLnNldFVzZXJJbmZvKHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBqb2I6IGRhdGEuYWJvdXRcbiAgICAgIH0pXG4gICAgICAvLyDQl9Cw0LrRgNGL0YLRjCDQv9C+0L/QsNC/INGE0L7RgNC80Ysg0J/RgNC+0YTQuNC70Y9cbiAgICAgIHBvcHVwRWRpdFByb2ZpbGUuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsDonLCBlcnIpKVxufTtcblxuXG5cbiAgYXBpLmdldFVzZXJBdmF0YXIoKS50aGVuKGRhdGEgPT4gbmV3VXNlci5zZXRVc2VyQXZhdGFyKHtcbiAgICBhdmF0YXI6IGRhdGEuYXZhdGFyXG4gIH0pKVxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LA6JywgZXJyKSlcblxuXG5cbi8vINCh0L7Qt9C00LDQvdC40LUg0L3QvtCy0L7Qs9C+INGN0LvQtdC80LXQvdGC0LAg0J/QvtC/0LDQvy3Qn9GA0L7RhNC40LvRjyDQuNC3INC60LvQsNGB0YHQsCBQV0ZcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2VkaXQtcHJvZmlsZScsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcbnBvcHVwRWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8g0KTQo9Cd0JrQptCY0J7QndCQ0Jsg0J7QotCa0KDQq9Ci0JjQryDQn9Ce0J/QkNCf0JAg0JTQm9CvINCU0J7QkdCQ0JLQm9CV0J3QmNCvINCd0J7QktCe0Jkg0JrQkNCg0KLQntCn0JrQmCDQndCQINCh0KLQoNCQ0J3QmNCm0KNcblxuLy8g0KHQu9GD0YjQsNGC0LXQu9GMINC00LXQudGB0YLQstC40Lk6INGB0LHRgNC+0YHQuNGC0Ywg0YTQvtGA0LzRgywg0L7RgtC60YDRi9GC0Ywg0L/QvtC/0LDQvyDQnNC10YHRgtCwLCDQsdC70L7QutC40YDQvtCy0LrQsCDQutC90L7Qv9C60LhcbmJ1dHRvbkFkZE9wZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cbiAgLy8g0KHQsdGA0L7RgSDQv9C+0LvQtdC5INGE0L7RgNC80Ysg0J/QvtC/0LDQv9CwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C10LpcbiAgZm9ybUFkZENhcmQucmVzZXQoKTtcblxuICAvLyDQntGC0LrRgNGL0YLQuNC1INCf0L7Qv9Cw0L/QsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG4gIHBvcHVwUGxhY2Uub3BlbigpO1xuXG4gIC8vINCS0YvQt9C+0LIg0LzQtdGC0L7QtNCwINC/0LXRgNC10LrQu9GO0YfQtdC90LjRjyDQutC90L7Qv9C60LhcbiAgZm9ybUNhcmQucmVzZXRWYWxpZGF0aW9uKCk7XG5cbiAgLy8g0JLRi9C30L7QsiDQvNC10YLQvtC00LAg0L7Rh9C40YnQtdC90LjRjyDQv9C+0LvRjyDQvtGI0LjQsdC+0LpcbiAgZm9ybUNhcmQucmVzZXRFcnJvcnMoKTtcbn0pO1xuXG4vLyDQpNGD0L3QutGG0LjRjyAtINC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNC5INC/0L4g0LTQvtCx0LDQstC70LXQvdC40Y4g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4IFxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXQoZGF0YSkge1xuXG5cbiAgYXBpLmNyZWF0ZU5ld0NhcmQoeyBuYW1lOiBkYXRhLm5hbWUsIGxpbms6IGRhdGEubGluayB9KVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChyZXN1bHQubmFtZSwgcmVzdWx0LmxpbmspKTsgLy/Qv9GA0LjRgdCy0LDQuNCy0LDQtdC8INC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQtSDQt9C90LDRh9C10L3QuNGPINC40Lcg0L/QvtC70LXQuSDRhNC+0YDQvNGLXG5cbiAgICAgIC8vYWRkQ2FyZChjYXJkRWxlbWVudCk7XG5cbiAgICAgIHBvcHVwUGxhY2UuY2xvc2UoKTtcbiAgICB9KVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfQndC+0LLQsNGPINC60LDRgNGC0L7Rh9C60LAnLCByZXN1bHQpXG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LAnLCBlcnIpKVxuXG59O1xuXG5cbi8vINCe0LHRitGP0LLQu9C10L3QuNC1INC90L7QstC+0LPQviDRjdC70LXQvNC10L3RgtCwINC60LvQsNGB0YHQsFxuY29uc3QgcG9wdXBQbGFjZSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfcGxhY2UnLCBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdCk7XG5wb3B1cFBsYWNlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cblxuXG5cbi8vINCk0KPQndCa0KbQmNCe0J3QkNCbINCg0JDQkdCe0KLQqyDQoSDQn9Ce0J/QkNCf0J7QnCDQntCR0J3QntCS0JvQldCd0JjQryDQkNCS0JDQotCQ0KDQkCA9PiDQndCVINCg0JDQkdCe0KLQkNCV0KJcblxuLy8g0KTRg9C90LrRhtC40Y8g0L/QviDQvtCx0L3QvtCy0LvQtdC90LjRjiDQsNCy0LDQsNGC0LDRgFxuXG5cblxuZnVuY3Rpb24gaGFuZGxlQWRkQXZhdGFyRm9ybVN1Ym1pdCh7IGF2YXRhciB9KSB7XG5cbiAgYXBpLnVwZGF0ZVVzZXJhdmF0YXIoeyBhdmF0YXI6IGF2YXRhciB9KVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIG5ld1VzZXIuc2V0VXNlckF2YXRhclxuICAgICAgICAoe1xuICAgICAgICAgIGF2YXRhcjogcmVzdWx0LmF2YXRhclxuICAgICAgICB9KVxuICAgICAgcG9wdXBBdmF0YXIuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCcsIGVycikpXG59XG5cblxuXG4vLyDQntCx0YrRj9Cy0LvQtdC90LjRjyDQvdC+0LLQvtCz0L4g0LrQu9Cw0YHRgdCwINC/0L7Qv9Cw0L/QsCAtINC/0L7Qv9Cw0L8g0LDQstCw0YLQsNGA0LBcbmNvbnN0IHBvcHVwQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF9hdmF0YXInLCBoYW5kbGVBZGRBdmF0YXJGb3JtU3VibWl0KTtcbnBvcHVwQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vINCh0LvRg9GI0LDRgtC10LvRjCDRgdC+0LHRi9GC0LjQuSDQvdCwINC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwIFxuYXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBjb25zb2xlLmxvZygn0JrQu9C40LonKVxuICBwb3B1cEF2YXRhci5vcGVuKCk7XG59KVxuXG5cblByb21pc2UuYWxsKFtdKVxuXG5cblxuXG4vLyDQpNCj0J3QmtCm0JjQntCd0JDQmyDQoNCQ0JHQntCi0Ksg0KEg0J/QntCf0JDQn9Ce0Jwg0KPQlNCQ0JvQldCd0JjQryDQmtCQ0KDQotCe0KfQmtCYXG5cbmNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IG5ldyBQb3B1cCgnLnBvcHVwX2RlbGV0ZS1jYXJkJyk7XG4vKiDQv9GA0LjQtNGD0LzQsNGC0YwsINC60LDQuiDRgNC10LDQu9C40LfQvtCy0LDRgtGMINC/0L7RgdC70LXQtNC+0LLQsNGC0LXQu9GM0L3QvtGB0YLRjCDRgdC+0LHRi9GC0LjQuTpcbtC60LvQuNC60LDRjiDQvdCwINC60L7RgNC30LjQvdGDINC60LDRgNGC0L7Rh9C60LggLT4g0LLRi9GB0LrQsNC60LjQstCw0LXRgiDQv9C+0L/QsNC/IFwi0JLRiyDRg9Cy0LXRgNC10L3Riz9cIiAtPiDQutC70LjQutCw0Y4g0L3QsCBcItCU0LBcIiAtPiBcbi0+INGD0LTQsNC70Y/QtdGC0YHRjyDQutCw0YDRgtC+0YfQutCwICjRgtC+INC10YHRgtGMINC90LDQtNC+INC/0L7QvNC10L3Rj9GC0Ywg0YHQu9GD0YjQsNGC0LXQu9GMINGB0L7QsdGL0YLQuNGPINCyINGD0LTQsNC70LXQvdC40Lgg0LrQsNGA0YLQvtGH0LrQuClcblxucG9wdXBEZWxldGVDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmJ1dHRvbkRlbGV0ZUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoJ2NsaWNrJywgZnVuY3Rpb24oKXtcblxucG9wdXBEZWxldGVDYXJkLm9wZW4oKTtcblxufSkqL1xuXG4vKlxuLy8g0J/QoNCe0JzQmNCh0KtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpXSlcbi50aGVuKChyZXMpID0+IHtcbiAgbmV3VXNlci5zZXRVc2VySW5mbyhyZXMpXG4gIG5ld1VzZXIuc2V0VXNlckF2YXRhcihyZXMpXG59KVxuLmNhdGNoICgoZXJyKSA9PiB7XG4gIGNvbnNvbGUubG9nIChlcnIpO1xufSkqL1xuIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJ0aGlzIiwiX2NvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9idXR0b25FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidGV4dENvbnRlbnQiLCJyZW1vdmUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJzb21lIiwic2V0QXR0cmlidXRlIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsInJlbW92ZUF0dHJpYnV0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZEJ1dHRvbiIsImVuYWJsZUJ1dHRvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX2lzVmFsaWQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJDYXJkIiwibmFtZSIsImxpbmsiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiX25hbWUiLCJfbGluayIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfaGFuZGxlQ2FyZENsaWNrIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZWxlbWVudHNQaG90byIsInNyYyIsImFsdCIsIl9saWtlQnV0dG9uIiwidG9nZ2xlIiwiX2RlbGV0ZUNhcmQiLCJfZ2V0TGlrZSIsImNvbmZpZ1NlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJpdGVtIiwiY2FyZEVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJzZWxlY3RvclBvcHVwIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIl9vdmVybGF5Q2xvc2UiLCJfY2xvc2VCdXR0b24iLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBQaG90b1RpdGxlIiwiX3BvcHVwUGhvdG9JbWciLCJVc2VySW5mbyIsInNlbGVjdG9yVXNlck5hbWUiLCJzZWxlY3RvclVzZXJKb2IiLCJzZWxlY3RvclVzZXJBdmF0YXIiLCJfc2VsZWN0b3JVc2VyTmFtZSIsIl9zZWxlY3RvclVzZXJKb2IiLCJfc2VsZWN0b3JVc2VyQXZhdGFyIiwiam9iIiwiYXZhdGFyIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybSIsIl9mb3JtSW5wdXRMaXN0IiwiY29uc29sZSIsImxvZyIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJhcGkiLCJBcGkiLCJjb25maWdBcGkiLCJnZXRBbGxDYXJkcyIsInRoZW4iLCJjYXJkTGlzdCIsInJlbmRlckl0ZW1zIiwiY2F0Y2giLCJlcnIiLCJnZXRVc2VySW5mbyIsImRhdGEiLCJuZXdVc2VyIiwic2V0VXNlckluZm8iLCJhYm91dCIsImJ1dHRvbk9wZW5Qb3B1cFByb2ZpbGUiLCJmb3JtRWRpdFByb2ZpbGUiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImZvcm1BZGRQcm9maWxlIiwiYnV0dG9uQWRkT3BlbiIsImZvcm1BZGRDYXJkIiwiZm9ybUFkZEF2YXRhciIsImZvcm1Qcm9maWxlIiwiZW5hYmxlVmFsaWRhdGlvbiIsImZvcm1DYXJkIiwiY3JlYXRlQ2FyZCIsImdlbmVyYXRlQ2FyZCIsImFkZEl0ZW0iLCJwb3B1cEltYWdlIiwib3BlbiIsInNldEV2ZW50TGlzdGVuZXJzIiwidXNlckRhdGEiLCJwb3B1cEVkaXRQcm9maWxlIiwicmVzZXRFcnJvcnMiLCJnZXRVc2VyQXZhdGFyIiwic2V0VXNlckF2YXRhciIsInVwZGF0ZVVzZXJJbmZvIiwicG9wdXBQbGFjZSIsInJlc2V0VmFsaWRhdGlvbiIsImNyZWF0ZU5ld0NhcmQiLCJyZXN1bHQiLCJwb3B1cEF2YXRhciIsInVwZGF0ZVVzZXJhdmF0YXIiLCJQcm9taXNlIiwiYWxsIl0sInNvdXJjZVJvb3QiOiIifQ==